/* eslint-disable */
module.exports = {
name: "@yarnpkg/plugin-outdated",
factory: function (require) {
var plugin;plugin=(()=>{"use strict";var e={706:(e,t,r)=>{r.r(t),r.d(t,{default:()=>o});var n=r(695);const o={commands:[n.OutdatedCommand]}},695:function(e,t,r){var n=this&&this.__decorate||function(e,t,r,n){var o,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(a<3?o(s):a>3?o(t,r,s):o(t,r))||s);return a>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.OutdatedCommand=void 0;const o=r(966),a=r(850),s=r(42),c=r(513),i=r(687),d=r(519);class l extends s.Command{constructor(){super(...arguments),this.all=!1,this.wanted=!1}async execute(){const e=await o.Configuration.find(this.context.cwd,this.context.plugins),{project:t,workspace:r}=await o.Project.find(e,this.context.cwd),n=await this.getOutdatedDependencies(e,t,r,await o.Cache.find(e));d.printTable(e,n.filter(e=>c.neq(e.current,e.latest)))}async getOutdatedDependencies(e,t,r,n){const a=[],s=["dependencies","devDependencies"];for(const e of t.workspaces)for(const t of s)for(const r of e.manifest[t].values())a.push({current:i.parseVersion(r.range),descriptor:r,name:o.structUtils.stringifyIdent(r),type:t});const c=a.sort((e,t)=>e.name.localeCompare(t.name)).map(async e=>{const o=await this.fetchLatestDescriptor(t,r,n,e.descriptor);return{...e,latest:i.parseVersion(o)}});return Promise.all(c)}async fetchLatestDescriptor(e,t,r,n,o="latest"){const s=await a.suggestUtils.fetchDescriptorFrom(n,o,{cache:r,preserveModifier:n.range,project:e,workspace:t});return null===s?n.range:s.range}}n([s.Command.Boolean("-a,--all")],l.prototype,"all",void 0),n([s.Command.Boolean("-w,--wanted")],l.prototype,"wanted",void 0),n([s.Command.Path("outdated")],l.prototype,"execute",null),t.OutdatedCommand=l},687:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.parseVersion=void 0;const n=r(513);t.parseVersion=e=>n.valid(n.coerce(e))},519:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.printTable=t.headers=void 0;const n=r(966),o=r(513),a=["name","current","latest","type"];function s(e){console.log(a.map(t=>e[t]).join("   "))}t.headers={current:"Current",latest:"Latest",name:"Package",type:"Package Type"},t.printTable=function(e,r){const a=function(e){const r={current:t.headers.current.length,latest:t.headers.latest.length,name:t.headers.name.length,type:t.headers.type.length};for(const t of e)for(const[e,n]of Object.entries(t)){const t=r[e],o=n.length;r[e]=t>o?t:o}return r}(r);!function(e,r){const o=o=>n.formatUtils.pretty(e,t.headers[o].padEnd(r[o]),"bold");s({current:o("current"),latest:o("latest"),name:o("name"),type:o("type")})}(e,a),r.forEach(t=>{const r=o.parse(t.current),c=o.parse(t.latest),i=c.major>r.major?"red":c.minor>r.minor?"yellow":"green";s({current:t.current.padEnd(a.current),latest:t.latest.padEnd(a.latest),name:n.formatUtils.pretty(e,t.name.padEnd(a.name),i),type:t.type.padEnd(a.type)})})}},966:e=>{e.exports=require("@yarnpkg/core")},850:e=>{e.exports=require("@yarnpkg/plugin-essentials")},42:e=>{e.exports=require("clipanion")},513:e=>{e.exports=require("semver")}},t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,r),o.exports}return r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r(706)})();
return plugin;
}
};