/* eslint-disable */
module.exports = {
name: "@yarnpkg/plugin-outdated",
factory: function (require) {
var plugin;plugin=(()=>{"use strict";var e={240:(e,t,r)=>{r.r(t),r.d(t,{default:()=>m});const n=require("@yarnpkg/core"),o=require("@yarnpkg/plugin-essentials"),a=require("clipanion"),c=require("semver"),s=e=>c.valid(c.coerce(e)),i=["name","current","latest","type"],l={current:"Current",latest:"Latest",name:"Package",type:"Package Type"};function p(e){console.log(i.map(t=>e[t]).join("   "))}function u(e,t){const r=function(e){const t={current:l.current.length,latest:l.latest.length,name:l.name.length,type:l.type.length};for(const r of e)for(const[e,n]of Object.entries(r)){const r=t[e],o=n.length;t[e]=r>o?r:o}return t}(t);!function(e,t){const r=r=>n.formatUtils.pretty(e,l[r].padEnd(t[r]),"bold");p({current:r("current"),latest:r("latest"),name:r("name"),type:r("type")})}(e,r),t.forEach(t=>{const o=c.parse(t.current),a=c.parse(t.latest),s=a.major>o.major?"red":a.minor>o.minor?"yellow":"green";p({current:t.current.padEnd(r.current),latest:t.latest.padEnd(r.latest),name:n.formatUtils.pretty(e,t.name.padEnd(r.name),s),type:t.type.padEnd(r.type)})})}var d=function(e,t,r,n){var o,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(c=(a<3?o(c):a>3?o(t,r,c):o(t,r))||c);return a>3&&c&&Object.defineProperty(t,r,c),c};class f extends a.Command{constructor(){super(...arguments),this.all=!1,this.wanted=!1}async execute(){const e=await n.Configuration.find(this.context.cwd,this.context.plugins),{project:t,workspace:r}=await n.Project.find(e,this.context.cwd);u(e,(await this.getOutdatedDependencies(e,t,r,await n.Cache.find(e))).filter(e=>c.neq(e.current,e.latest)))}async getOutdatedDependencies(e,t,r,o){const a=[],c=["dependencies","devDependencies"];for(const e of t.workspaces)for(const t of c)for(const r of e.manifest[t].values())a.push({current:s(r.range),descriptor:r,name:n.structUtils.stringifyIdent(r),type:t});const i=a.sort((e,t)=>e.name.localeCompare(t.name)).map(async e=>{const n=await this.fetchLatestDescriptor(t,r,o,e.descriptor);return{...e,latest:s(n)}});return Promise.all(i)}async fetchLatestDescriptor(e,t,r,n,a="latest"){const c=await o.suggestUtils.fetchDescriptorFrom(n,a,{cache:r,preserveModifier:n.range,project:e,workspace:t});return null===c?n.range:c.range}}d([a.Command.Boolean("-a,--all")],f.prototype,"all",void 0),d([a.Command.Boolean("-w,--wanted")],f.prototype,"wanted",void 0),d([a.Command.Path("outdated")],f.prototype,"execute",null);const m={commands:[f]}}},t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={exports:{}};return e[n](o,o.exports,r),o.exports}return r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r(240)})();
return plugin;
}
};