/* eslint-disable */
//prettier-ignore
module.exports = {
name: "@yarnpkg/plugin-outdated",
factory: function (require) {
"use strict";var plugin=(()=>{var hr=Object.create;var He=Object.defineProperty;var fr=Object.getOwnPropertyDescriptor;var pr=Object.getOwnPropertyNames;var dr=Object.getPrototypeOf,gr=Object.prototype.hasOwnProperty;var mr=(s,e,t)=>e in s?He(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var q=(s=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(s,{get:(e,t)=>(typeof require<"u"?require:e)[t]}):s)(function(s){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+s+'" is not supported')});var F=(s,e)=>()=>(e||s((e={exports:{}}).exports,e),e.exports),yr=(s,e)=>{for(var t in e)He(s,t,{get:e[t],enumerable:!0})},vt=(s,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of pr(e))!gr.call(s,i)&&i!==t&&He(s,i,{get:()=>e[i],enumerable:!(r=fr(e,i))||r.enumerable});return s};var Re=(s,e,t)=>(t=s!=null?hr(dr(s)):{},vt(e||!s||!s.__esModule?He(t,"default",{value:s,enumerable:!0}):t,s)),Ar=s=>vt(He({},"__esModule",{value:!0}),s);var rt=(s,e,t)=>(mr(s,typeof e!="symbol"?e+"":e,t),t),it=(s,e,t)=>{if(!e.has(s))throw TypeError("Cannot "+t)};var oe=(s,e,t)=>(it(s,e,"read from private field"),t?t.call(s):e.get(s)),be=(s,e,t)=>{if(e.has(s))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(s):e.set(s,t)},nt=(s,e,t,r)=>(it(s,e,"write to private field"),r?r.call(s,t):e.set(s,t),t);var K=(s,e,t)=>(it(s,e,"access private method"),t);var je=F(re=>{"use strict";re.isInteger=s=>typeof s=="number"?Number.isInteger(s):typeof s=="string"&&s.trim()!==""?Number.isInteger(Number(s)):!1;re.find=(s,e)=>s.nodes.find(t=>t.type===e);re.exceedsLimit=(s,e,t=1,r)=>r===!1||!re.isInteger(s)||!re.isInteger(e)?!1:(Number(e)-Number(s))/Number(t)>=r;re.escapeNode=(s,e=0,t)=>{let r=s.nodes[e];!r||(t&&r.type===t||r.type==="open"||r.type==="close")&&r.escaped!==!0&&(r.value="\\"+r.value,r.escaped=!0)};re.encloseBrace=s=>s.type!=="brace"?!1:s.commas>>0+s.ranges>>0===0?(s.invalid=!0,!0):!1;re.isInvalidBrace=s=>s.type!=="brace"?!1:s.invalid===!0||s.dollar?!0:s.commas>>0+s.ranges>>0===0||s.open!==!0||s.close!==!0?(s.invalid=!0,!0):!1;re.isOpenOrClose=s=>s.type==="open"||s.type==="close"?!0:s.open===!0||s.close===!0;re.reduce=s=>s.reduce((e,t)=>(t.type==="text"&&e.push(t.value),t.type==="range"&&(t.type="text"),e),[]);re.flatten=(...s)=>{let e=[],t=r=>{for(let i=0;i<r.length;i++){let n=r[i];Array.isArray(n)?t(n,e):n!==void 0&&e.push(n)}return e};return t(s),e}});var Be=F((Yi,Ht)=>{"use strict";var Tt=je();Ht.exports=(s,e={})=>{let t=(r,i={})=>{let n=e.escapeInvalid&&Tt.isInvalidBrace(i),o=r.invalid===!0&&e.escapeInvalid===!0,a="";if(r.value)return(n||o)&&Tt.isOpenOrClose(r)?"\\"+r.value:r.value;if(r.value)return r.value;if(r.nodes)for(let l of r.nodes)a+=t(l);return a};return t(s)}});var Lt=F((Ji,Ot)=>{"use strict";Ot.exports=function(s){return typeof s=="number"?s-s===0:typeof s=="string"&&s.trim()!==""?Number.isFinite?Number.isFinite(+s):isFinite(+s):!1}});var Wt=F((en,Mt)=>{"use strict";var kt=Lt(),me=(s,e,t)=>{if(kt(s)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(e===void 0||s===e)return String(s);if(kt(e)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let r={relaxZeros:!0,...t};typeof r.strictZeros=="boolean"&&(r.relaxZeros=r.strictZeros===!1);let i=String(r.relaxZeros),n=String(r.shorthand),o=String(r.capture),a=String(r.wrap),l=s+":"+e+"="+i+n+o+a;if(me.cache.hasOwnProperty(l))return me.cache[l].result;let g=Math.min(s,e),p=Math.max(s,e);if(Math.abs(g-p)===1){let m=s+"|"+e;return r.capture?`(${m})`:r.wrap===!1?m:`(?:${m})`}let d=Ft(s)||Ft(e),u={min:s,max:e,a:g,b:p},_=[],A=[];if(d&&(u.isPadded=d,u.maxLen=String(u.max).length),g<0){let m=p<0?Math.abs(p):1;A=Nt(m,Math.abs(g),u,r),g=u.a=0}return p>=0&&(_=Nt(g,p,u,r)),u.negatives=A,u.positives=_,u.result=Rr(A,_,r),r.capture===!0?u.result=`(${u.result})`:r.wrap!==!1&&_.length+A.length>1&&(u.result=`(?:${u.result})`),me.cache[l]=u,u.result};function Rr(s,e,t){let r=ot(s,e,"-",!1,t)||[],i=ot(e,s,"",!1,t)||[],n=ot(s,e,"-?",!0,t)||[];return r.concat(n).concat(i).join("|")}function br(s,e){let t=1,r=1,i=It(s,t),n=new Set([e]);for(;s<=i&&i<=e;)n.add(i),t+=1,i=It(s,t);for(i=Pt(e+1,r)-1;s<i&&i<=e;)n.add(i),r+=1,i=Pt(e+1,r)-1;return n=[...n],n.sort(Cr),n}function _r(s,e,t){if(s===e)return{pattern:s,count:[],digits:0};let r=Er(s,e),i=r.length,n="",o=0;for(let a=0;a<i;a++){let[l,g]=r[a];l===g?n+=l:l!=="0"||g!=="9"?n+=Sr(l,g,t):o++}return o&&(n+=t.shorthand===!0?"\\d":"[0-9]"),{pattern:n,count:[o],digits:i}}function Nt(s,e,t,r){let i=br(s,e),n=[],o=s,a;for(let l=0;l<i.length;l++){let g=i[l],p=_r(String(o),String(g),r),d="";if(!t.isPadded&&a&&a.pattern===p.pattern){a.count.length>1&&a.count.pop(),a.count.push(p.count[0]),a.string=a.pattern+Ut(a.count),o=g+1;continue}t.isPadded&&(d=wr(g,t,r)),p.string=d+p.pattern+Ut(p.count),n.push(p),o=g+1,a=p}return n}function ot(s,e,t,r,i){let n=[];for(let o of s){let{string:a}=o;!r&&!Dt(e,"string",a)&&n.push(t+a),r&&Dt(e,"string",a)&&n.push(t+a)}return n}function Er(s,e){let t=[];for(let r=0;r<s.length;r++)t.push([s[r],e[r]]);return t}function Cr(s,e){return s>e?1:e>s?-1:0}function Dt(s,e,t){return s.some(r=>r[e]===t)}function It(s,e){return Number(String(s).slice(0,-e)+"9".repeat(e))}function Pt(s,e){return s-s%Math.pow(10,e)}function Ut(s){let[e=0,t=""]=s;return t||e>1?`{${e+(t?","+t:"")}}`:""}function Sr(s,e,t){return`[${s}${e-s===1?"":"-"}${e}]`}function Ft(s){return/^-?(0+)\d/.test(s)}function wr(s,e,t){if(!e.isPadded)return s;let r=Math.abs(e.maxLen-String(s).length),i=t.relaxZeros!==!1;switch(r){case 0:return"";case 1:return i?"0?":"0";case 2:return i?"0{0,2}":"00";default:return i?`0{0,${r}}`:`0{${r}}`}}me.cache={};me.clearCache=()=>me.cache={};Mt.exports=me});var ut=F((tn,Xt)=>{"use strict";var $r=q("util"),zt=Wt(),jt=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),xr=s=>e=>s===!0?Number(e):String(e),at=s=>typeof s=="number"||typeof s=="string"&&s!=="",Oe=s=>Number.isInteger(+s),lt=s=>{let e=`${s}`,t=-1;if(e[0]==="-"&&(e=e.slice(1)),e==="0")return!1;for(;e[++t]==="0";);return t>0},vr=(s,e,t)=>typeof s=="string"||typeof e=="string"?!0:t.stringify===!0,Tr=(s,e,t)=>{if(e>0){let r=s[0]==="-"?"-":"";r&&(s=s.slice(1)),s=r+s.padStart(r?e-1:e,"0")}return t===!1?String(s):s},Bt=(s,e)=>{let t=s[0]==="-"?"-":"";for(t&&(s=s.slice(1),e--);s.length<e;)s="0"+s;return t?"-"+s:s},Hr=(s,e)=>{s.negatives.sort((o,a)=>o<a?-1:o>a?1:0),s.positives.sort((o,a)=>o<a?-1:o>a?1:0);let t=e.capture?"":"?:",r="",i="",n;return s.positives.length&&(r=s.positives.join("|")),s.negatives.length&&(i=`-(${t}${s.negatives.join("|")})`),r&&i?n=`${r}|${i}`:n=r||i,e.wrap?`(${t}${n})`:n},Gt=(s,e,t,r)=>{if(t)return zt(s,e,{wrap:!1,...r});let i=String.fromCharCode(s);if(s===e)return i;let n=String.fromCharCode(e);return`[${i}-${n}]`},qt=(s,e,t)=>{if(Array.isArray(s)){let r=t.wrap===!0,i=t.capture?"":"?:";return r?`(${i}${s.join("|")})`:s.join("|")}return zt(s,e,t)},Kt=(...s)=>new RangeError("Invalid range arguments: "+$r.inspect(...s)),Qt=(s,e,t)=>{if(t.strictRanges===!0)throw Kt([s,e]);return[]},Or=(s,e)=>{if(e.strictRanges===!0)throw new TypeError(`Expected step "${s}" to be a number`);return[]},Lr=(s,e,t=1,r={})=>{let i=Number(s),n=Number(e);if(!Number.isInteger(i)||!Number.isInteger(n)){if(r.strictRanges===!0)throw Kt([s,e]);return[]}i===0&&(i=0),n===0&&(n=0);let o=i>n,a=String(s),l=String(e),g=String(t);t=Math.max(Math.abs(t),1);let p=lt(a)||lt(l)||lt(g),d=p?Math.max(a.length,l.length,g.length):0,u=p===!1&&vr(s,e,r)===!1,_=r.transform||xr(u);if(r.toRegex&&t===1)return Gt(Bt(s,d),Bt(e,d),!0,r);let A={negatives:[],positives:[]},m=S=>A[S<0?"negatives":"positives"].push(Math.abs(S)),E=[],b=0;for(;o?i>=n:i<=n;)r.toRegex===!0&&t>1?m(i):E.push(Tr(_(i,b),d,u)),i=o?i-t:i+t,b++;return r.toRegex===!0?t>1?Hr(A,r):qt(E,null,{wrap:!1,...r}):E},kr=(s,e,t=1,r={})=>{if(!Oe(s)&&s.length>1||!Oe(e)&&e.length>1)return Qt(s,e,r);let i=r.transform||(u=>String.fromCharCode(u)),n=`${s}`.charCodeAt(0),o=`${e}`.charCodeAt(0),a=n>o,l=Math.min(n,o),g=Math.max(n,o);if(r.toRegex&&t===1)return Gt(l,g,!1,r);let p=[],d=0;for(;a?n>=o:n<=o;)p.push(i(n,d)),n=a?n-t:n+t,d++;return r.toRegex===!0?qt(p,null,{wrap:!1,options:r}):p},ze=(s,e,t,r={})=>{if(e==null&&at(s))return[s];if(!at(s)||!at(e))return Qt(s,e,r);if(typeof t=="function")return ze(s,e,1,{transform:t});if(jt(t))return ze(s,e,0,t);let i={...r};return i.capture===!0&&(i.wrap=!0),t=t||i.step||1,Oe(t)?Oe(s)&&Oe(e)?Lr(s,e,t,i):kr(s,e,Math.max(Math.abs(t),1),i):t!=null&&!jt(t)?Or(t,i):ze(s,e,1,t)};Xt.exports=ze});var Yt=F((sn,Zt)=>{"use strict";var Nr=ut(),Vt=je(),Dr=(s,e={})=>{let t=(r,i={})=>{let n=Vt.isInvalidBrace(i),o=r.invalid===!0&&e.escapeInvalid===!0,a=n===!0||o===!0,l=e.escapeInvalid===!0?"\\":"",g="";if(r.isOpen===!0||r.isClose===!0)return l+r.value;if(r.type==="open")return a?l+r.value:"(";if(r.type==="close")return a?l+r.value:")";if(r.type==="comma")return r.prev.type==="comma"?"":a?r.value:"|";if(r.value)return r.value;if(r.nodes&&r.ranges>0){let p=Vt.reduce(r.nodes),d=Nr(...p,{...e,wrap:!1,toRegex:!0});if(d.length!==0)return p.length>1&&d.length>1?`(${d})`:d}if(r.nodes)for(let p of r.nodes)g+=t(p,r);return g};return t(s)};Zt.exports=Dr});var ts=F((rn,es)=>{"use strict";var Ir=ut(),Jt=Be(),_e=je(),ye=(s="",e="",t=!1)=>{let r=[];if(s=[].concat(s),e=[].concat(e),!e.length)return s;if(!s.length)return t?_e.flatten(e).map(i=>`{${i}}`):e;for(let i of s)if(Array.isArray(i))for(let n of i)r.push(ye(n,e,t));else for(let n of e)t===!0&&typeof n=="string"&&(n=`{${n}}`),r.push(Array.isArray(n)?ye(i,n,t):i+n);return _e.flatten(r)},Pr=(s,e={})=>{let t=e.rangeLimit===void 0?1e3:e.rangeLimit,r=(i,n={})=>{i.queue=[];let o=n,a=n.queue;for(;o.type!=="brace"&&o.type!=="root"&&o.parent;)o=o.parent,a=o.queue;if(i.invalid||i.dollar){a.push(ye(a.pop(),Jt(i,e)));return}if(i.type==="brace"&&i.invalid!==!0&&i.nodes.length===2){a.push(ye(a.pop(),["{}"]));return}if(i.nodes&&i.ranges>0){let d=_e.reduce(i.nodes);if(_e.exceedsLimit(...d,e.step,t))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let u=Ir(...d,e);u.length===0&&(u=Jt(i,e)),a.push(ye(a.pop(),u)),i.nodes=[];return}let l=_e.encloseBrace(i),g=i.queue,p=i;for(;p.type!=="brace"&&p.type!=="root"&&p.parent;)p=p.parent,g=p.queue;for(let d=0;d<i.nodes.length;d++){let u=i.nodes[d];if(u.type==="comma"&&i.type==="brace"){d===1&&g.push(""),g.push("");continue}if(u.type==="close"){a.push(ye(a.pop(),g,l));continue}if(u.value&&u.type!=="open"){g.push(ye(g.pop(),u.value));continue}u.nodes&&r(u,i)}return g};return _e.flatten(r(s))};es.exports=Pr});var rs=F((nn,ss)=>{"use strict";ss.exports={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}});var ls=F((on,as)=>{"use strict";var Ur=Be(),{MAX_LENGTH:is,CHAR_BACKSLASH:ct,CHAR_BACKTICK:Fr,CHAR_COMMA:Mr,CHAR_DOT:Wr,CHAR_LEFT_PARENTHESES:jr,CHAR_RIGHT_PARENTHESES:Br,CHAR_LEFT_CURLY_BRACE:zr,CHAR_RIGHT_CURLY_BRACE:Gr,CHAR_LEFT_SQUARE_BRACKET:ns,CHAR_RIGHT_SQUARE_BRACKET:os,CHAR_DOUBLE_QUOTE:qr,CHAR_SINGLE_QUOTE:Kr,CHAR_NO_BREAK_SPACE:Qr,CHAR_ZERO_WIDTH_NOBREAK_SPACE:Xr}=rs(),Vr=(s,e={})=>{if(typeof s!="string")throw new TypeError("Expected a string");let t=e||{},r=typeof t.maxLength=="number"?Math.min(is,t.maxLength):is;if(s.length>r)throw new SyntaxError(`Input length (${s.length}), exceeds max characters (${r})`);let i={type:"root",input:s,nodes:[]},n=[i],o=i,a=i,l=0,g=s.length,p=0,d=0,u,_={},A=()=>s[p++],m=E=>{if(E.type==="text"&&a.type==="dot"&&(a.type="text"),a&&a.type==="text"&&E.type==="text"){a.value+=E.value;return}return o.nodes.push(E),E.parent=o,E.prev=a,a=E,E};for(m({type:"bos"});p<g;)if(o=n[n.length-1],u=A(),!(u===Xr||u===Qr)){if(u===ct){m({type:"text",value:(e.keepEscaping?u:"")+A()});continue}if(u===os){m({type:"text",value:"\\"+u});continue}if(u===ns){l++;let E=!0,b;for(;p<g&&(b=A());){if(u+=b,b===ns){l++;continue}if(b===ct){u+=A();continue}if(b===os&&(l--,l===0))break}m({type:"text",value:u});continue}if(u===jr){o=m({type:"paren",nodes:[]}),n.push(o),m({type:"text",value:u});continue}if(u===Br){if(o.type!=="paren"){m({type:"text",value:u});continue}o=n.pop(),m({type:"text",value:u}),o=n[n.length-1];continue}if(u===qr||u===Kr||u===Fr){let E=u,b;for(e.keepQuotes!==!0&&(u="");p<g&&(b=A());){if(b===ct){u+=b+A();continue}if(b===E){e.keepQuotes===!0&&(u+=b);break}u+=b}m({type:"text",value:u});continue}if(u===zr){d++;let b={type:"brace",open:!0,close:!1,dollar:a.value&&a.value.slice(-1)==="$"||o.dollar===!0,depth:d,commas:0,ranges:0,nodes:[]};o=m(b),n.push(o),m({type:"open",value:u});continue}if(u===Gr){if(o.type!=="brace"){m({type:"text",value:u});continue}let E="close";o=n.pop(),o.close=!0,m({type:E,value:u}),d--,o=n[n.length-1];continue}if(u===Mr&&d>0){if(o.ranges>0){o.ranges=0;let E=o.nodes.shift();o.nodes=[E,{type:"text",value:Ur(o)}]}m({type:"comma",value:u}),o.commas++;continue}if(u===Wr&&d>0&&o.commas===0){let E=o.nodes;if(d===0||E.length===0){m({type:"text",value:u});continue}if(a.type==="dot"){if(o.range=[],a.value+=u,a.type="range",o.nodes.length!==3&&o.nodes.length!==5){o.invalid=!0,o.ranges=0,a.type="text";continue}o.ranges++,o.args=[];continue}if(a.type==="range"){E.pop();let b=E[E.length-1];b.value+=a.value+u,a=b,o.ranges--;continue}m({type:"dot",value:u});continue}m({type:"text",value:u})}do if(o=n.pop(),o.type!=="root"){o.nodes.forEach(S=>{S.nodes||(S.type==="open"&&(S.isOpen=!0),S.type==="close"&&(S.isClose=!0),S.nodes||(S.type="text"),S.invalid=!0)});let E=n[n.length-1],b=E.nodes.indexOf(o);E.nodes.splice(b,1,...o.nodes)}while(n.length>0);return m({type:"eos"}),i};as.exports=Vr});var hs=F((an,cs)=>{"use strict";var us=Be(),Zr=Yt(),Yr=ts(),Jr=ls(),te=(s,e={})=>{let t=[];if(Array.isArray(s))for(let r of s){let i=te.create(r,e);Array.isArray(i)?t.push(...i):t.push(i)}else t=[].concat(te.create(s,e));return e&&e.expand===!0&&e.nodupes===!0&&(t=[...new Set(t)]),t};te.parse=(s,e={})=>Jr(s,e);te.stringify=(s,e={})=>us(typeof s=="string"?te.parse(s,e):s,e);te.compile=(s,e={})=>(typeof s=="string"&&(s=te.parse(s,e)),Zr(s,e));te.expand=(s,e={})=>{typeof s=="string"&&(s=te.parse(s,e));let t=Yr(s,e);return e.noempty===!0&&(t=t.filter(Boolean)),e.nodupes===!0&&(t=[...new Set(t)]),t};te.create=(s,e={})=>s===""||s.length<3?[s]:e.expand!==!0?te.compile(s,e):te.expand(s,e);cs.exports=te});var Le=F((ln,ms)=>{"use strict";var ei=q("path"),ae="\\\\/",fs=`[^${ae}]`,ce="\\.",ti="\\+",si="\\?",Ge="\\/",ri="(?=.)",ps="[^/]",ht=`(?:${Ge}|$)`,ds=`(?:^|${Ge})`,ft=`${ce}{1,2}${ht}`,ii=`(?!${ce})`,ni=`(?!${ds}${ft})`,oi=`(?!${ce}{0,1}${ht})`,ai=`(?!${ft})`,li=`[^.${Ge}]`,ui=`${ps}*?`,gs={DOT_LITERAL:ce,PLUS_LITERAL:ti,QMARK_LITERAL:si,SLASH_LITERAL:Ge,ONE_CHAR:ri,QMARK:ps,END_ANCHOR:ht,DOTS_SLASH:ft,NO_DOT:ii,NO_DOTS:ni,NO_DOT_SLASH:oi,NO_DOTS_SLASH:ai,QMARK_NO_DOT:li,STAR:ui,START_ANCHOR:ds},ci={...gs,SLASH_LITERAL:`[${ae}]`,QMARK:fs,STAR:`${fs}*?`,DOTS_SLASH:`${ce}{1,2}(?:[${ae}]|$)`,NO_DOT:`(?!${ce})`,NO_DOTS:`(?!(?:^|[${ae}])${ce}{1,2}(?:[${ae}]|$))`,NO_DOT_SLASH:`(?!${ce}{0,1}(?:[${ae}]|$))`,NO_DOTS_SLASH:`(?!${ce}{1,2}(?:[${ae}]|$))`,QMARK_NO_DOT:`[^.${ae}]`,START_ANCHOR:`(?:^|[${ae}])`,END_ANCHOR:`(?:[${ae}]|$)`},hi={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};ms.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:hi,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:ei.sep,extglobChars(s){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${s.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(s){return s===!0?ci:gs}}});var ke=F(Y=>{"use strict";var fi=q("path"),pi=process.platform==="win32",{REGEX_BACKSLASH:di,REGEX_REMOVE_BACKSLASH:gi,REGEX_SPECIAL_CHARS:mi,REGEX_SPECIAL_CHARS_GLOBAL:yi}=Le();Y.isObject=s=>s!==null&&typeof s=="object"&&!Array.isArray(s);Y.hasRegexChars=s=>mi.test(s);Y.isRegexChar=s=>s.length===1&&Y.hasRegexChars(s);Y.escapeRegex=s=>s.replace(yi,"\\$1");Y.toPosixSlashes=s=>s.replace(di,"/");Y.removeBackslashes=s=>s.replace(gi,e=>e==="\\"?"":e);Y.supportsLookbehinds=()=>{let s=process.version.slice(1).split(".").map(Number);return s.length===3&&s[0]>=9||s[0]===8&&s[1]>=10};Y.isWindows=s=>s&&typeof s.windows=="boolean"?s.windows:pi===!0||fi.sep==="\\";Y.escapeLast=(s,e,t)=>{let r=s.lastIndexOf(e,t);return r===-1?s:s[r-1]==="\\"?Y.escapeLast(s,e,r-1):`${s.slice(0,r)}\\${s.slice(r)}`};Y.removePrefix=(s,e={})=>{let t=s;return t.startsWith("./")&&(t=t.slice(2),e.prefix="./"),t};Y.wrapOutput=(s,e={},t={})=>{let r=t.contains?"":"^",i=t.contains?"":"$",n=`${r}(?:${s})${i}`;return e.negated===!0&&(n=`(?:^(?!${n}).*$)`),n}});var Ss=F((cn,Cs)=>{"use strict";var ys=ke(),{CHAR_ASTERISK:pt,CHAR_AT:Ai,CHAR_BACKWARD_SLASH:Ne,CHAR_COMMA:Ri,CHAR_DOT:dt,CHAR_EXCLAMATION_MARK:gt,CHAR_FORWARD_SLASH:Es,CHAR_LEFT_CURLY_BRACE:mt,CHAR_LEFT_PARENTHESES:yt,CHAR_LEFT_SQUARE_BRACKET:bi,CHAR_PLUS:_i,CHAR_QUESTION_MARK:As,CHAR_RIGHT_CURLY_BRACE:Ei,CHAR_RIGHT_PARENTHESES:Rs,CHAR_RIGHT_SQUARE_BRACKET:Ci}=Le(),bs=s=>s===Es||s===Ne,_s=s=>{s.isPrefix!==!0&&(s.depth=s.isGlobstar?1/0:1)},Si=(s,e)=>{let t=e||{},r=s.length-1,i=t.parts===!0||t.scanToEnd===!0,n=[],o=[],a=[],l=s,g=-1,p=0,d=0,u=!1,_=!1,A=!1,m=!1,E=!1,b=!1,S=!1,x=!1,L=!1,O=!1,X=0,D,C,v={value:"",depth:0,isGlob:!1},j=()=>g>=r,f=()=>l.charCodeAt(g+1),I=()=>(D=C,l.charCodeAt(++g));for(;g<r;){C=I();let V;if(C===Ne){S=v.backslashes=!0,C=I(),C===mt&&(b=!0);continue}if(b===!0||C===mt){for(X++;j()!==!0&&(C=I());){if(C===Ne){S=v.backslashes=!0,I();continue}if(C===mt){X++;continue}if(b!==!0&&C===dt&&(C=I())===dt){if(u=v.isBrace=!0,A=v.isGlob=!0,O=!0,i===!0)continue;break}if(b!==!0&&C===Ri){if(u=v.isBrace=!0,A=v.isGlob=!0,O=!0,i===!0)continue;break}if(C===Ei&&(X--,X===0)){b=!1,u=v.isBrace=!0,O=!0;break}}if(i===!0)continue;break}if(C===Es){if(n.push(g),o.push(v),v={value:"",depth:0,isGlob:!1},O===!0)continue;if(D===dt&&g===p+1){p+=2;continue}d=g+1;continue}if(t.noext!==!0&&(C===_i||C===Ai||C===pt||C===As||C===gt)===!0&&f()===yt){if(A=v.isGlob=!0,m=v.isExtglob=!0,O=!0,C===gt&&g===p&&(L=!0),i===!0){for(;j()!==!0&&(C=I());){if(C===Ne){S=v.backslashes=!0,C=I();continue}if(C===Rs){A=v.isGlob=!0,O=!0;break}}continue}break}if(C===pt){if(D===pt&&(E=v.isGlobstar=!0),A=v.isGlob=!0,O=!0,i===!0)continue;break}if(C===As){if(A=v.isGlob=!0,O=!0,i===!0)continue;break}if(C===bi){for(;j()!==!0&&(V=I());){if(V===Ne){S=v.backslashes=!0,I();continue}if(V===Ci){_=v.isBracket=!0,A=v.isGlob=!0,O=!0;break}}if(i===!0)continue;break}if(t.nonegate!==!0&&C===gt&&g===p){x=v.negated=!0,p++;continue}if(t.noparen!==!0&&C===yt){if(A=v.isGlob=!0,i===!0){for(;j()!==!0&&(C=I());){if(C===yt){S=v.backslashes=!0,C=I();continue}if(C===Rs){O=!0;break}}continue}break}if(A===!0){if(O=!0,i===!0)continue;break}}t.noext===!0&&(m=!1,A=!1);let k=l,he="",c="";p>0&&(he=l.slice(0,p),l=l.slice(p),d-=p),k&&A===!0&&d>0?(k=l.slice(0,d),c=l.slice(d)):A===!0?(k="",c=l):k=l,k&&k!==""&&k!=="/"&&k!==l&&bs(k.charCodeAt(k.length-1))&&(k=k.slice(0,-1)),t.unescape===!0&&(c&&(c=ys.removeBackslashes(c)),k&&S===!0&&(k=ys.removeBackslashes(k)));let h={prefix:he,input:s,start:p,base:k,glob:c,isBrace:u,isBracket:_,isGlob:A,isExtglob:m,isGlobstar:E,negated:x,negatedExtglob:L};if(t.tokens===!0&&(h.maxDepth=0,bs(C)||o.push(v),h.tokens=o),t.parts===!0||t.tokens===!0){let V;for(let T=0;T<n.length;T++){let ie=V?V+1:p,ne=n[T],ee=s.slice(ie,ne);t.tokens&&(T===0&&p!==0?(o[T].isPrefix=!0,o[T].value=he):o[T].value=ee,_s(o[T]),h.maxDepth+=o[T].depth),(T!==0||ee!=="")&&a.push(ee),V=ne}if(V&&V+1<s.length){let T=s.slice(V+1);a.push(T),t.tokens&&(o[o.length-1].value=T,_s(o[o.length-1]),h.maxDepth+=o[o.length-1].depth)}h.slashes=n,h.parts=a}return h};Cs.exports=Si});var xs=F((hn,$s)=>{"use strict";var qe=Le(),se=ke(),{MAX_LENGTH:Ke,POSIX_REGEX_SOURCE:wi,REGEX_NON_SPECIAL_CHARS:$i,REGEX_SPECIAL_CHARS_BACKREF:xi,REPLACEMENTS:ws}=qe,vi=(s,e)=>{if(typeof e.expandRange=="function")return e.expandRange(...s,e);s.sort();let t=`[${s.join("-")}]`;try{new RegExp(t)}catch{return s.map(i=>se.escapeRegex(i)).join("..")}return t},Ee=(s,e)=>`Missing ${s}: "${e}" - use "\\\\${e}" to match literal characters`,At=(s,e)=>{if(typeof s!="string")throw new TypeError("Expected a string");s=ws[s]||s;let t={...e},r=typeof t.maxLength=="number"?Math.min(Ke,t.maxLength):Ke,i=s.length;if(i>r)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${r}`);let n={type:"bos",value:"",output:t.prepend||""},o=[n],a=t.capture?"":"?:",l=se.isWindows(e),g=qe.globChars(l),p=qe.extglobChars(g),{DOT_LITERAL:d,PLUS_LITERAL:u,SLASH_LITERAL:_,ONE_CHAR:A,DOTS_SLASH:m,NO_DOT:E,NO_DOT_SLASH:b,NO_DOTS_SLASH:S,QMARK:x,QMARK_NO_DOT:L,STAR:O,START_ANCHOR:X}=g,D=R=>`(${a}(?:(?!${X}${R.dot?m:d}).)*?)`,C=t.dot?"":E,v=t.dot?x:L,j=t.bash===!0?D(t):O;t.capture&&(j=`(${j})`),typeof t.noext=="boolean"&&(t.noextglob=t.noext);let f={input:s,index:-1,start:0,dot:t.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:o};s=se.removePrefix(s,f),i=s.length;let I=[],k=[],he=[],c=n,h,V=()=>f.index===i-1,T=f.peek=(R=1)=>s[f.index+R],ie=f.advance=()=>s[++f.index]||"",ne=()=>s.slice(f.index+1),ee=(R="",N=0)=>{f.consumed+=R,f.index+=N},Ue=R=>{f.output+=R.output!=null?R.output:R.value,ee(R.value)},ur=()=>{let R=1;for(;T()==="!"&&(T(2)!=="("||T(3)==="?");)ie(),f.start++,R++;return R%2===0?!1:(f.negated=!0,f.start++,!0)},Fe=R=>{f[R]++,he.push(R)},ge=R=>{f[R]--,he.pop()},$=R=>{if(c.type==="globstar"){let N=f.braces>0&&(R.type==="comma"||R.type==="brace"),y=R.extglob===!0||I.length&&(R.type==="pipe"||R.type==="paren");R.type!=="slash"&&R.type!=="paren"&&!N&&!y&&(f.output=f.output.slice(0,-c.output.length),c.type="star",c.value="*",c.output=j,f.output+=c.output)}if(I.length&&R.type!=="paren"&&(I[I.length-1].inner+=R.value),(R.value||R.output)&&Ue(R),c&&c.type==="text"&&R.type==="text"){c.value+=R.value,c.output=(c.output||"")+R.value;return}R.prev=c,o.push(R),c=R},Me=(R,N)=>{let y={...p[N],conditions:1,inner:""};y.prev=c,y.parens=f.parens,y.output=f.output;let w=(t.capture?"(":"")+y.open;Fe("parens"),$({type:R,value:N,output:f.output?"":A}),$({type:"paren",extglob:!0,value:ie(),output:w}),I.push(y)},cr=R=>{let N=R.close+(t.capture?")":""),y;if(R.type==="negate"){let w=j;if(R.inner&&R.inner.length>1&&R.inner.includes("/")&&(w=D(t)),(w!==j||V()||/^\)+$/.test(ne()))&&(N=R.close=`)$))${w}`),R.inner.includes("*")&&(y=ne())&&/^\.[^\\/.]+$/.test(y)){let U=At(y,{...e,fastpaths:!1}).output;N=R.close=`)${U})${w})`}R.prev.type==="bos"&&(f.negatedExtglob=!0)}$({type:"paren",extglob:!0,value:h,output:N}),ge("parens")};if(t.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(s)){let R=!1,N=s.replace(xi,(y,w,U,Z,z,st)=>Z==="\\"?(R=!0,y):Z==="?"?w?w+Z+(z?x.repeat(z.length):""):st===0?v+(z?x.repeat(z.length):""):x.repeat(U.length):Z==="."?d.repeat(U.length):Z==="*"?w?w+Z+(z?j:""):j:w?y:`\\${y}`);return R===!0&&(t.unescape===!0?N=N.replace(/\\/g,""):N=N.replace(/\\+/g,y=>y.length%2===0?"\\\\":y?"\\":"")),N===s&&t.contains===!0?(f.output=s,f):(f.output=se.wrapOutput(N,f,e),f)}for(;!V();){if(h=ie(),h==="\0")continue;if(h==="\\"){let y=T();if(y==="/"&&t.bash!==!0||y==="."||y===";")continue;if(!y){h+="\\",$({type:"text",value:h});continue}let w=/^\\+/.exec(ne()),U=0;if(w&&w[0].length>2&&(U=w[0].length,f.index+=U,U%2!==0&&(h+="\\")),t.unescape===!0?h=ie():h+=ie(),f.brackets===0){$({type:"text",value:h});continue}}if(f.brackets>0&&(h!=="]"||c.value==="["||c.value==="[^")){if(t.posix!==!1&&h===":"){let y=c.value.slice(1);if(y.includes("[")&&(c.posix=!0,y.includes(":"))){let w=c.value.lastIndexOf("["),U=c.value.slice(0,w),Z=c.value.slice(w+2),z=wi[Z];if(z){c.value=U+z,f.backtrack=!0,ie(),!n.output&&o.indexOf(c)===1&&(n.output=A);continue}}}(h==="["&&T()!==":"||h==="-"&&T()==="]")&&(h=`\\${h}`),h==="]"&&(c.value==="["||c.value==="[^")&&(h=`\\${h}`),t.posix===!0&&h==="!"&&c.value==="["&&(h="^"),c.value+=h,Ue({value:h});continue}if(f.quotes===1&&h!=='"'){h=se.escapeRegex(h),c.value+=h,Ue({value:h});continue}if(h==='"'){f.quotes=f.quotes===1?0:1,t.keepQuotes===!0&&$({type:"text",value:h});continue}if(h==="("){Fe("parens"),$({type:"paren",value:h});continue}if(h===")"){if(f.parens===0&&t.strictBrackets===!0)throw new SyntaxError(Ee("opening","("));let y=I[I.length-1];if(y&&f.parens===y.parens+1){cr(I.pop());continue}$({type:"paren",value:h,output:f.parens?")":"\\)"}),ge("parens");continue}if(h==="["){if(t.nobracket===!0||!ne().includes("]")){if(t.nobracket!==!0&&t.strictBrackets===!0)throw new SyntaxError(Ee("closing","]"));h=`\\${h}`}else Fe("brackets");$({type:"bracket",value:h});continue}if(h==="]"){if(t.nobracket===!0||c&&c.type==="bracket"&&c.value.length===1){$({type:"text",value:h,output:`\\${h}`});continue}if(f.brackets===0){if(t.strictBrackets===!0)throw new SyntaxError(Ee("opening","["));$({type:"text",value:h,output:`\\${h}`});continue}ge("brackets");let y=c.value.slice(1);if(c.posix!==!0&&y[0]==="^"&&!y.includes("/")&&(h=`/${h}`),c.value+=h,Ue({value:h}),t.literalBrackets===!1||se.hasRegexChars(y))continue;let w=se.escapeRegex(c.value);if(f.output=f.output.slice(0,-c.value.length),t.literalBrackets===!0){f.output+=w,c.value=w;continue}c.value=`(${a}${w}|${c.value})`,f.output+=c.value;continue}if(h==="{"&&t.nobrace!==!0){Fe("braces");let y={type:"brace",value:h,output:"(",outputIndex:f.output.length,tokensIndex:f.tokens.length};k.push(y),$(y);continue}if(h==="}"){let y=k[k.length-1];if(t.nobrace===!0||!y){$({type:"text",value:h,output:h});continue}let w=")";if(y.dots===!0){let U=o.slice(),Z=[];for(let z=U.length-1;z>=0&&(o.pop(),U[z].type!=="brace");z--)U[z].type!=="dots"&&Z.unshift(U[z].value);w=vi(Z,t),f.backtrack=!0}if(y.comma!==!0&&y.dots!==!0){let U=f.output.slice(0,y.outputIndex),Z=f.tokens.slice(y.tokensIndex);y.value=y.output="\\{",h=w="\\}",f.output=U;for(let z of Z)f.output+=z.output||z.value}$({type:"brace",value:h,output:w}),ge("braces"),k.pop();continue}if(h==="|"){I.length>0&&I[I.length-1].conditions++,$({type:"text",value:h});continue}if(h===","){let y=h,w=k[k.length-1];w&&he[he.length-1]==="braces"&&(w.comma=!0,y="|"),$({type:"comma",value:h,output:y});continue}if(h==="/"){if(c.type==="dot"&&f.index===f.start+1){f.start=f.index+1,f.consumed="",f.output="",o.pop(),c=n;continue}$({type:"slash",value:h,output:_});continue}if(h==="."){if(f.braces>0&&c.type==="dot"){c.value==="."&&(c.output=d);let y=k[k.length-1];c.type="dots",c.output+=h,c.value+=h,y.dots=!0;continue}if(f.braces+f.parens===0&&c.type!=="bos"&&c.type!=="slash"){$({type:"text",value:h,output:d});continue}$({type:"dot",value:h,output:d});continue}if(h==="?"){if(!(c&&c.value==="(")&&t.noextglob!==!0&&T()==="("&&T(2)!=="?"){Me("qmark",h);continue}if(c&&c.type==="paren"){let w=T(),U=h;if(w==="<"&&!se.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(c.value==="("&&!/[!=<:]/.test(w)||w==="<"&&!/<([!=]|\w+>)/.test(ne()))&&(U=`\\${h}`),$({type:"text",value:h,output:U});continue}if(t.dot!==!0&&(c.type==="slash"||c.type==="bos")){$({type:"qmark",value:h,output:L});continue}$({type:"qmark",value:h,output:x});continue}if(h==="!"){if(t.noextglob!==!0&&T()==="("&&(T(2)!=="?"||!/[!=<:]/.test(T(3)))){Me("negate",h);continue}if(t.nonegate!==!0&&f.index===0){ur();continue}}if(h==="+"){if(t.noextglob!==!0&&T()==="("&&T(2)!=="?"){Me("plus",h);continue}if(c&&c.value==="("||t.regex===!1){$({type:"plus",value:h,output:u});continue}if(c&&(c.type==="bracket"||c.type==="paren"||c.type==="brace")||f.parens>0){$({type:"plus",value:h});continue}$({type:"plus",value:u});continue}if(h==="@"){if(t.noextglob!==!0&&T()==="("&&T(2)!=="?"){$({type:"at",extglob:!0,value:h,output:""});continue}$({type:"text",value:h});continue}if(h!=="*"){(h==="$"||h==="^")&&(h=`\\${h}`);let y=$i.exec(ne());y&&(h+=y[0],f.index+=y[0].length),$({type:"text",value:h});continue}if(c&&(c.type==="globstar"||c.star===!0)){c.type="star",c.star=!0,c.value+=h,c.output=j,f.backtrack=!0,f.globstar=!0,ee(h);continue}let R=ne();if(t.noextglob!==!0&&/^\([^?]/.test(R)){Me("star",h);continue}if(c.type==="star"){if(t.noglobstar===!0){ee(h);continue}let y=c.prev,w=y.prev,U=y.type==="slash"||y.type==="bos",Z=w&&(w.type==="star"||w.type==="globstar");if(t.bash===!0&&(!U||R[0]&&R[0]!=="/")){$({type:"star",value:h,output:""});continue}let z=f.braces>0&&(y.type==="comma"||y.type==="brace"),st=I.length&&(y.type==="pipe"||y.type==="paren");if(!U&&y.type!=="paren"&&!z&&!st){$({type:"star",value:h,output:""});continue}for(;R.slice(0,3)==="/**";){let We=s[f.index+4];if(We&&We!=="/")break;R=R.slice(3),ee("/**",3)}if(y.type==="bos"&&V()){c.type="globstar",c.value+=h,c.output=D(t),f.output=c.output,f.globstar=!0,ee(h);continue}if(y.type==="slash"&&y.prev.type!=="bos"&&!Z&&V()){f.output=f.output.slice(0,-(y.output+c.output).length),y.output=`(?:${y.output}`,c.type="globstar",c.output=D(t)+(t.strictSlashes?")":"|$)"),c.value+=h,f.globstar=!0,f.output+=y.output+c.output,ee(h);continue}if(y.type==="slash"&&y.prev.type!=="bos"&&R[0]==="/"){let We=R[1]!==void 0?"|$":"";f.output=f.output.slice(0,-(y.output+c.output).length),y.output=`(?:${y.output}`,c.type="globstar",c.output=`${D(t)}${_}|${_}${We})`,c.value+=h,f.output+=y.output+c.output,f.globstar=!0,ee(h+ie()),$({type:"slash",value:"/",output:""});continue}if(y.type==="bos"&&R[0]==="/"){c.type="globstar",c.value+=h,c.output=`(?:^|${_}|${D(t)}${_})`,f.output=c.output,f.globstar=!0,ee(h+ie()),$({type:"slash",value:"/",output:""});continue}f.output=f.output.slice(0,-c.output.length),c.type="globstar",c.output=D(t),c.value+=h,f.output+=c.output,f.globstar=!0,ee(h);continue}let N={type:"star",value:h,output:j};if(t.bash===!0){N.output=".*?",(c.type==="bos"||c.type==="slash")&&(N.output=C+N.output),$(N);continue}if(c&&(c.type==="bracket"||c.type==="paren")&&t.regex===!0){N.output=h,$(N);continue}(f.index===f.start||c.type==="slash"||c.type==="dot")&&(c.type==="dot"?(f.output+=b,c.output+=b):t.dot===!0?(f.output+=S,c.output+=S):(f.output+=C,c.output+=C),T()!=="*"&&(f.output+=A,c.output+=A)),$(N)}for(;f.brackets>0;){if(t.strictBrackets===!0)throw new SyntaxError(Ee("closing","]"));f.output=se.escapeLast(f.output,"["),ge("brackets")}for(;f.parens>0;){if(t.strictBrackets===!0)throw new SyntaxError(Ee("closing",")"));f.output=se.escapeLast(f.output,"("),ge("parens")}for(;f.braces>0;){if(t.strictBrackets===!0)throw new SyntaxError(Ee("closing","}"));f.output=se.escapeLast(f.output,"{"),ge("braces")}if(t.strictSlashes!==!0&&(c.type==="star"||c.type==="bracket")&&$({type:"maybe_slash",value:"",output:`${_}?`}),f.backtrack===!0){f.output="";for(let R of f.tokens)f.output+=R.output!=null?R.output:R.value,R.suffix&&(f.output+=R.suffix)}return f};At.fastpaths=(s,e)=>{let t={...e},r=typeof t.maxLength=="number"?Math.min(Ke,t.maxLength):Ke,i=s.length;if(i>r)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${r}`);s=ws[s]||s;let n=se.isWindows(e),{DOT_LITERAL:o,SLASH_LITERAL:a,ONE_CHAR:l,DOTS_SLASH:g,NO_DOT:p,NO_DOTS:d,NO_DOTS_SLASH:u,STAR:_,START_ANCHOR:A}=qe.globChars(n),m=t.dot?d:p,E=t.dot?u:p,b=t.capture?"":"?:",S={negated:!1,prefix:""},x=t.bash===!0?".*?":_;t.capture&&(x=`(${x})`);let L=C=>C.noglobstar===!0?x:`(${b}(?:(?!${A}${C.dot?g:o}).)*?)`,O=C=>{switch(C){case"*":return`${m}${l}${x}`;case".*":return`${o}${l}${x}`;case"*.*":return`${m}${x}${o}${l}${x}`;case"*/*":return`${m}${x}${a}${l}${E}${x}`;case"**":return m+L(t);case"**/*":return`(?:${m}${L(t)}${a})?${E}${l}${x}`;case"**/*.*":return`(?:${m}${L(t)}${a})?${E}${x}${o}${l}${x}`;case"**/.*":return`(?:${m}${L(t)}${a})?${o}${l}${x}`;default:{let v=/^(.*?)\.(\w+)$/.exec(C);if(!v)return;let j=O(v[1]);return j?j+o+v[2]:void 0}}},X=se.removePrefix(s,S),D=O(X);return D&&t.strictSlashes!==!0&&(D+=`${a}?`),D};$s.exports=At});var Ts=F((fn,vs)=>{"use strict";var Ti=q("path"),Hi=Ss(),Rt=xs(),bt=ke(),Oi=Le(),Li=s=>s&&typeof s=="object"&&!Array.isArray(s),W=(s,e,t=!1)=>{if(Array.isArray(s)){let p=s.map(u=>W(u,e,t));return u=>{for(let _ of p){let A=_(u);if(A)return A}return!1}}let r=Li(s)&&s.tokens&&s.input;if(s===""||typeof s!="string"&&!r)throw new TypeError("Expected pattern to be a non-empty string");let i=e||{},n=bt.isWindows(e),o=r?W.compileRe(s,e):W.makeRe(s,e,!1,!0),a=o.state;delete o.state;let l=()=>!1;if(i.ignore){let p={...e,ignore:null,onMatch:null,onResult:null};l=W(i.ignore,p,t)}let g=(p,d=!1)=>{let{isMatch:u,match:_,output:A}=W.test(p,o,e,{glob:s,posix:n}),m={glob:s,state:a,regex:o,posix:n,input:p,output:A,match:_,isMatch:u};return typeof i.onResult=="function"&&i.onResult(m),u===!1?(m.isMatch=!1,d?m:!1):l(p)?(typeof i.onIgnore=="function"&&i.onIgnore(m),m.isMatch=!1,d?m:!1):(typeof i.onMatch=="function"&&i.onMatch(m),d?m:!0)};return t&&(g.state=a),g};W.test=(s,e,t,{glob:r,posix:i}={})=>{if(typeof s!="string")throw new TypeError("Expected input to be a string");if(s==="")return{isMatch:!1,output:""};let n=t||{},o=n.format||(i?bt.toPosixSlashes:null),a=s===r,l=a&&o?o(s):s;return a===!1&&(l=o?o(s):s,a=l===r),(a===!1||n.capture===!0)&&(n.matchBase===!0||n.basename===!0?a=W.matchBase(s,e,t,i):a=e.exec(l)),{isMatch:Boolean(a),match:a,output:l}};W.matchBase=(s,e,t,r=bt.isWindows(t))=>(e instanceof RegExp?e:W.makeRe(e,t)).test(Ti.basename(s));W.isMatch=(s,e,t)=>W(e,t)(s);W.parse=(s,e)=>Array.isArray(s)?s.map(t=>W.parse(t,e)):Rt(s,{...e,fastpaths:!1});W.scan=(s,e)=>Hi(s,e);W.compileRe=(s,e,t=!1,r=!1)=>{if(t===!0)return s.output;let i=e||{},n=i.contains?"":"^",o=i.contains?"":"$",a=`${n}(?:${s.output})${o}`;s&&s.negated===!0&&(a=`^(?!${a}).*$`);let l=W.toRegex(a,e);return r===!0&&(l.state=s),l};W.makeRe=(s,e={},t=!1,r=!1)=>{if(!s||typeof s!="string")throw new TypeError("Expected a non-empty string");let i={negated:!1,fastpaths:!0};return e.fastpaths!==!1&&(s[0]==="."||s[0]==="*")&&(i.output=Rt.fastpaths(s,e)),i.output||(i=Rt(s,e)),W.compileRe(i,e,t,r)};W.toRegex=(s,e)=>{try{let t=e||{};return new RegExp(s,t.flags||(t.nocase?"i":""))}catch(t){if(e&&e.debug===!0)throw t;return/$^/}};W.constants=Oi;vs.exports=W});var Os=F((pn,Hs)=>{"use strict";Hs.exports=Ts()});var Is=F((dn,Ds)=>{"use strict";var ks=q("util"),Ns=hs(),le=Os(),_t=ke(),Ls=s=>s===""||s==="./",P=(s,e,t)=>{e=[].concat(e),s=[].concat(s);let r=new Set,i=new Set,n=new Set,o=0,a=p=>{n.add(p.output),t&&t.onResult&&t.onResult(p)};for(let p=0;p<e.length;p++){let d=le(String(e[p]),{...t,onResult:a},!0),u=d.state.negated||d.state.negatedExtglob;u&&o++;for(let _ of s){let A=d(_,!0);!(u?!A.isMatch:A.isMatch)||(u?r.add(A.output):(r.delete(A.output),i.add(A.output)))}}let g=(o===e.length?[...n]:[...i]).filter(p=>!r.has(p));if(t&&g.length===0){if(t.failglob===!0)throw new Error(`No matches found for "${e.join(", ")}"`);if(t.nonull===!0||t.nullglob===!0)return t.unescape?e.map(p=>p.replace(/\\/g,"")):e}return g};P.match=P;P.matcher=(s,e)=>le(s,e);P.isMatch=(s,e,t)=>le(e,t)(s);P.any=P.isMatch;P.not=(s,e,t={})=>{e=[].concat(e).map(String);let r=new Set,i=[],n=a=>{t.onResult&&t.onResult(a),i.push(a.output)},o=new Set(P(s,e,{...t,onResult:n}));for(let a of i)o.has(a)||r.add(a);return[...r]};P.contains=(s,e,t)=>{if(typeof s!="string")throw new TypeError(`Expected a string: "${ks.inspect(s)}"`);if(Array.isArray(e))return e.some(r=>P.contains(s,r,t));if(typeof e=="string"){if(Ls(s)||Ls(e))return!1;if(s.includes(e)||s.startsWith("./")&&s.slice(2).includes(e))return!0}return P.isMatch(s,e,{...t,contains:!0})};P.matchKeys=(s,e,t)=>{if(!_t.isObject(s))throw new TypeError("Expected the first argument to be an object");let r=P(Object.keys(s),e,t),i={};for(let n of r)i[n]=s[n];return i};P.some=(s,e,t)=>{let r=[].concat(s);for(let i of[].concat(e)){let n=le(String(i),t);if(r.some(o=>n(o)))return!0}return!1};P.every=(s,e,t)=>{let r=[].concat(s);for(let i of[].concat(e)){let n=le(String(i),t);if(!r.every(o=>n(o)))return!1}return!0};P.all=(s,e,t)=>{if(typeof s!="string")throw new TypeError(`Expected a string: "${ks.inspect(s)}"`);return[].concat(e).every(r=>le(r,t)(s))};P.capture=(s,e,t)=>{let r=_t.isWindows(t),n=le.makeRe(String(s),{...t,capture:!0}).exec(r?_t.toPosixSlashes(e):e);if(n)return n.slice(1).map(o=>o===void 0?"":o)};P.makeRe=(...s)=>le.makeRe(...s);P.scan=(...s)=>le.scan(...s);P.parse=(s,e)=>{let t=[];for(let r of[].concat(s||[]))for(let i of Ns(String(r),e))t.push(le.parse(i,e));return t};P.braces=(s,e)=>{if(typeof s!="string")throw new TypeError("Expected a string");return e&&e.nobrace===!0||!/\{.*\}/.test(s)?[s]:Ns(s,e)};P.braceExpand=(s,e)=>{if(typeof s!="string")throw new TypeError("Expected a string");return P.braces(s,{...e,expand:!0})};Ds.exports=P});var Ws=F(Ve=>{"use strict";Object.defineProperty(Ve,"__esModule",{value:!0});Ve.LRUCache=void 0;var Ce=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,Us=new Set,Et=typeof process=="object"&&!!process?process:{},Fs=(s,e,t,r)=>{typeof Et.emitWarning=="function"?Et.emitWarning(s,e,t,r):console.error(`[${t}] ${e}: ${s}`)},Xe=globalThis.AbortController,Ps=globalThis.AbortSignal;if(typeof Xe>"u"){Ps=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(r,i){this._onabort.push(i)}},Xe=class{constructor(){e()}signal=new Ps;abort(r){if(!this.signal.aborted){this.signal.reason=r,this.signal.aborted=!0;for(let i of this.signal._onabort)i(r);this.signal.onabort?.(r)}}};let s=Et.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1",e=()=>{!s||(s=!1,Fs("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",e))}}var ki=s=>!Us.has(s),yn=Symbol("type"),fe=s=>s&&s===Math.floor(s)&&s>0&&isFinite(s),Ms=s=>fe(s)?s<=Math.pow(2,8)?Uint8Array:s<=Math.pow(2,16)?Uint16Array:s<=Math.pow(2,32)?Uint32Array:s<=Number.MAX_SAFE_INTEGER?we:null:null,we=class extends Array{constructor(e){super(e),this.fill(0)}},$e,Se=class{heap;length;static create(e){let t=Ms(e);if(!t)return[];nt(Se,$e,!0);let r=new Se(e,t);return nt(Se,$e,!1),r}constructor(e,t){if(!oe(Se,$e))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new t(e),this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}},Qe=Se;$e=new WeakMap,be(Qe,$e,!1);var De=class{#d;#c;#g;#m;#T;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#i;#y;#r;#s;#e;#l;#h;#a;#n;#A;#o;#R;#b;#f;#_;#w;#u;static unsafeExposeInternals(e){return{starts:e.#b,ttls:e.#f,sizes:e.#R,keyMap:e.#r,keyList:e.#s,valList:e.#e,next:e.#l,prev:e.#h,get head(){return e.#a},get tail(){return e.#n},free:e.#A,isBackgroundFetch:t=>e.#t(t),backgroundFetch:(t,r,i,n)=>e.#L(t,r,i,n),moveToTail:t=>e.#v(t),indexes:t=>e.#E(t),rindexes:t=>e.#C(t),isStale:t=>e.#p(t)}}get max(){return this.#d}get maxSize(){return this.#c}get calculatedSize(){return this.#y}get size(){return this.#i}get fetchMethod(){return this.#T}get dispose(){return this.#g}get disposeAfter(){return this.#m}constructor(e){let{max:t=0,ttl:r,ttlResolution:i=1,ttlAutopurge:n,updateAgeOnGet:o,updateAgeOnHas:a,allowStale:l,dispose:g,disposeAfter:p,noDisposeOnSet:d,noUpdateTTL:u,maxSize:_=0,maxEntrySize:A=0,sizeCalculation:m,fetchMethod:E,noDeleteOnFetchRejection:b,noDeleteOnStaleGet:S,allowStaleOnFetchRejection:x,allowStaleOnFetchAbort:L,ignoreFetchAbort:O}=e;if(t!==0&&!fe(t))throw new TypeError("max option must be a nonnegative integer");let X=t?Ms(t):Array;if(!X)throw new Error("invalid max value: "+t);if(this.#d=t,this.#c=_,this.maxEntrySize=A||this.#c,this.sizeCalculation=m,this.sizeCalculation){if(!this.#c&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(E!==void 0&&typeof E!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#T=E,this.#w=!!E,this.#r=new Map,this.#s=new Array(t).fill(void 0),this.#e=new Array(t).fill(void 0),this.#l=new X(t),this.#h=new X(t),this.#a=0,this.#n=0,this.#A=Qe.create(t),this.#i=0,this.#y=0,typeof g=="function"&&(this.#g=g),typeof p=="function"?(this.#m=p,this.#o=[]):(this.#m=void 0,this.#o=void 0),this.#_=!!this.#g,this.#u=!!this.#m,this.noDisposeOnSet=!!d,this.noUpdateTTL=!!u,this.noDeleteOnFetchRejection=!!b,this.allowStaleOnFetchRejection=!!x,this.allowStaleOnFetchAbort=!!L,this.ignoreFetchAbort=!!O,this.maxEntrySize!==0){if(this.#c!==0&&!fe(this.#c))throw new TypeError("maxSize must be a positive integer if specified");if(!fe(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#U()}if(this.allowStale=!!l,this.noDeleteOnStaleGet=!!S,this.updateAgeOnGet=!!o,this.updateAgeOnHas=!!a,this.ttlResolution=fe(i)||i===0?i:1,this.ttlAutopurge=!!n,this.ttl=r||0,this.ttl){if(!fe(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#k()}if(this.#d===0&&this.ttl===0&&this.#c===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#d&&!this.#c){let D="LRU_CACHE_UNBOUNDED";ki(D)&&(Us.add(D),Fs("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",D,De))}}getRemainingTTL(e){return this.#r.has(e)?1/0:0}#k(){let e=new we(this.#d),t=new we(this.#d);this.#f=e,this.#b=t,this.#N=(n,o,a=Ce.now())=>{if(t[n]=o!==0?a:0,e[n]=o,o!==0&&this.ttlAutopurge){let l=setTimeout(()=>{this.#p(n)&&this.delete(this.#s[n])},o+1);l.unref&&l.unref()}},this.#$=n=>{t[n]=e[n]!==0?Ce.now():0},this.#S=(n,o)=>{if(e[o]){let a=e[o],l=t[o];if(!a||!l)return;n.ttl=a,n.start=l,n.now=r||i();let g=n.now-l;n.remainingTTL=a-g}};let r=0,i=()=>{let n=Ce.now();if(this.ttlResolution>0){r=n;let o=setTimeout(()=>r=0,this.ttlResolution);o.unref&&o.unref()}return n};this.getRemainingTTL=n=>{let o=this.#r.get(n);if(o===void 0)return 0;let a=e[o],l=t[o];if(!a||!l)return 1/0;let g=(r||i())-l;return a-g},this.#p=n=>{let o=t[n],a=e[n];return!!a&&!!o&&(r||i())-o>a}}#$=()=>{};#S=()=>{};#N=()=>{};#p=()=>!1;#U(){let e=new we(this.#d);this.#y=0,this.#R=e,this.#x=t=>{this.#y-=e[t],e[t]=0},this.#D=(t,r,i,n)=>{if(this.#t(r))return 0;if(!fe(i))if(n){if(typeof n!="function")throw new TypeError("sizeCalculation must be a function");if(i=n(r,t),!fe(i))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return i},this.#H=(t,r,i)=>{if(e[t]=r,this.#c){let n=this.#c-e[t];for(;this.#y>n;)this.#O(!0)}this.#y+=e[t],i&&(i.entrySize=r,i.totalCalculatedSize=this.#y)}}#x=e=>{};#H=(e,t,r)=>{};#D=(e,t,r,i)=>{if(r||i)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#E({allowStale:e=this.allowStale}={}){if(this.#i)for(let t=this.#n;!(!this.#I(t)||((e||!this.#p(t))&&(yield t),t===this.#a));)t=this.#h[t]}*#C({allowStale:e=this.allowStale}={}){if(this.#i)for(let t=this.#a;!(!this.#I(t)||((e||!this.#p(t))&&(yield t),t===this.#n));)t=this.#l[t]}#I(e){return e!==void 0&&this.#r.get(this.#s[e])===e}*entries(){for(let e of this.#E())this.#e[e]!==void 0&&this.#s[e]!==void 0&&!this.#t(this.#e[e])&&(yield[this.#s[e],this.#e[e]])}*rentries(){for(let e of this.#C())this.#e[e]!==void 0&&this.#s[e]!==void 0&&!this.#t(this.#e[e])&&(yield[this.#s[e],this.#e[e]])}*keys(){for(let e of this.#E()){let t=this.#s[e];t!==void 0&&!this.#t(this.#e[e])&&(yield t)}}*rkeys(){for(let e of this.#C()){let t=this.#s[e];t!==void 0&&!this.#t(this.#e[e])&&(yield t)}}*values(){for(let e of this.#E())this.#e[e]!==void 0&&!this.#t(this.#e[e])&&(yield this.#e[e])}*rvalues(){for(let e of this.#C())this.#e[e]!==void 0&&!this.#t(this.#e[e])&&(yield this.#e[e])}[Symbol.iterator](){return this.entries()}find(e,t={}){for(let r of this.#E()){let i=this.#e[r],n=this.#t(i)?i.__staleWhileFetching:i;if(n!==void 0&&e(n,this.#s[r],this))return this.get(this.#s[r],t)}}forEach(e,t=this){for(let r of this.#E()){let i=this.#e[r],n=this.#t(i)?i.__staleWhileFetching:i;n!==void 0&&e.call(t,n,this.#s[r],this)}}rforEach(e,t=this){for(let r of this.#C()){let i=this.#e[r],n=this.#t(i)?i.__staleWhileFetching:i;n!==void 0&&e.call(t,n,this.#s[r],this)}}purgeStale(){let e=!1;for(let t of this.#C({allowStale:!0}))this.#p(t)&&(this.delete(this.#s[t]),e=!0);return e}info(e){let t=this.#r.get(e);if(t===void 0)return;let r=this.#e[t],i=this.#t(r)?r.__staleWhileFetching:r;if(i===void 0)return;let n={value:i};if(this.#f&&this.#b){let o=this.#f[t],a=this.#b[t];if(o&&a){let l=o-(Ce.now()-a);n.ttl=l,n.start=Date.now()}}return this.#R&&(n.size=this.#R[t]),n}dump(){let e=[];for(let t of this.#E({allowStale:!0})){let r=this.#s[t],i=this.#e[t],n=this.#t(i)?i.__staleWhileFetching:i;if(n===void 0||r===void 0)continue;let o={value:n};if(this.#f&&this.#b){o.ttl=this.#f[t];let a=Ce.now()-this.#b[t];o.start=Math.floor(Date.now()-a)}this.#R&&(o.size=this.#R[t]),e.unshift([r,o])}return e}load(e){this.clear();for(let[t,r]of e){if(r.start){let i=Date.now()-r.start;r.start=Ce.now()-i}this.set(t,r.value,r)}}set(e,t,r={}){if(t===void 0)return this.delete(e),this;let{ttl:i=this.ttl,start:n,noDisposeOnSet:o=this.noDisposeOnSet,sizeCalculation:a=this.sizeCalculation,status:l}=r,{noUpdateTTL:g=this.noUpdateTTL}=r,p=this.#D(e,t,r.size||0,a);if(this.maxEntrySize&&p>this.maxEntrySize)return l&&(l.set="miss",l.maxEntrySizeExceeded=!0),this.delete(e),this;let d=this.#i===0?void 0:this.#r.get(e);if(d===void 0)d=this.#i===0?this.#n:this.#A.length!==0?this.#A.pop():this.#i===this.#d?this.#O(!1):this.#i,this.#s[d]=e,this.#e[d]=t,this.#r.set(e,d),this.#l[this.#n]=d,this.#h[d]=this.#n,this.#n=d,this.#i++,this.#H(d,p,l),l&&(l.set="add"),g=!1;else{this.#v(d);let u=this.#e[d];if(t!==u){if(this.#w&&this.#t(u)){u.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:_}=u;_!==void 0&&!o&&(this.#_&&this.#g?.(_,e,"set"),this.#u&&this.#o?.push([_,e,"set"]))}else o||(this.#_&&this.#g?.(u,e,"set"),this.#u&&this.#o?.push([u,e,"set"]));if(this.#x(d),this.#H(d,p,l),this.#e[d]=t,l){l.set="replace";let _=u&&this.#t(u)?u.__staleWhileFetching:u;_!==void 0&&(l.oldValue=_)}}else l&&(l.set="update")}if(i!==0&&!this.#f&&this.#k(),this.#f&&(g||this.#N(d,i,n),l&&this.#S(l,d)),!o&&this.#u&&this.#o){let u=this.#o,_;for(;_=u?.shift();)this.#m?.(..._)}return this}pop(){try{for(;this.#i;){let e=this.#e[this.#a];if(this.#O(!0),this.#t(e)){if(e.__staleWhileFetching)return e.__staleWhileFetching}else if(e!==void 0)return e}}finally{if(this.#u&&this.#o){let e=this.#o,t;for(;t=e?.shift();)this.#m?.(...t)}}}#O(e){let t=this.#a,r=this.#s[t],i=this.#e[t];return this.#w&&this.#t(i)?i.__abortController.abort(new Error("evicted")):(this.#_||this.#u)&&(this.#_&&this.#g?.(i,r,"evict"),this.#u&&this.#o?.push([i,r,"evict"])),this.#x(t),e&&(this.#s[t]=void 0,this.#e[t]=void 0,this.#A.push(t)),this.#i===1?(this.#a=this.#n=0,this.#A.length=0):this.#a=this.#l[t],this.#r.delete(r),this.#i--,t}has(e,t={}){let{updateAgeOnHas:r=this.updateAgeOnHas,status:i}=t,n=this.#r.get(e);if(n!==void 0){let o=this.#e[n];if(this.#t(o)&&o.__staleWhileFetching===void 0)return!1;if(this.#p(n))i&&(i.has="stale",this.#S(i,n));else return r&&this.#$(n),i&&(i.has="hit",this.#S(i,n)),!0}else i&&(i.has="miss");return!1}peek(e,t={}){let{allowStale:r=this.allowStale}=t,i=this.#r.get(e);if(i===void 0||!r&&this.#p(i))return;let n=this.#e[i];return this.#t(n)?n.__staleWhileFetching:n}#L(e,t,r,i){let n=t===void 0?void 0:this.#e[t];if(this.#t(n))return n;let o=new Xe,{signal:a}=r;a?.addEventListener("abort",()=>o.abort(a.reason),{signal:o.signal});let l={signal:o.signal,options:r,context:i},g=(m,E=!1)=>{let{aborted:b}=o.signal,S=r.ignoreFetchAbort&&m!==void 0;if(r.status&&(b&&!E?(r.status.fetchAborted=!0,r.status.fetchError=o.signal.reason,S&&(r.status.fetchAbortIgnored=!0)):r.status.fetchResolved=!0),b&&!S&&!E)return d(o.signal.reason);let x=_;return this.#e[t]===_&&(m===void 0?x.__staleWhileFetching?this.#e[t]=x.__staleWhileFetching:this.delete(e):(r.status&&(r.status.fetchUpdated=!0),this.set(e,m,l.options))),m},p=m=>(r.status&&(r.status.fetchRejected=!0,r.status.fetchError=m),d(m)),d=m=>{let{aborted:E}=o.signal,b=E&&r.allowStaleOnFetchAbort,S=b||r.allowStaleOnFetchRejection,x=S||r.noDeleteOnFetchRejection,L=_;if(this.#e[t]===_&&(!x||L.__staleWhileFetching===void 0?this.delete(e):b||(this.#e[t]=L.__staleWhileFetching)),S)return r.status&&L.__staleWhileFetching!==void 0&&(r.status.returnedStale=!0),L.__staleWhileFetching;if(L.__returned===L)throw m},u=(m,E)=>{let b=this.#T?.(e,n,l);b&&b instanceof Promise&&b.then(S=>m(S===void 0?void 0:S),E),o.signal.addEventListener("abort",()=>{(!r.ignoreFetchAbort||r.allowStaleOnFetchAbort)&&(m(void 0),r.allowStaleOnFetchAbort&&(m=S=>g(S,!0)))})};r.status&&(r.status.fetchDispatched=!0);let _=new Promise(u).then(g,p),A=Object.assign(_,{__abortController:o,__staleWhileFetching:n,__returned:void 0});return t===void 0?(this.set(e,A,{...l.options,status:void 0}),t=this.#r.get(e)):this.#e[t]=A,A}#t(e){if(!this.#w)return!1;let t=e;return!!t&&t instanceof Promise&&t.hasOwnProperty("__staleWhileFetching")&&t.__abortController instanceof Xe}async fetch(e,t={}){let{allowStale:r=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:n=this.noDeleteOnStaleGet,ttl:o=this.ttl,noDisposeOnSet:a=this.noDisposeOnSet,size:l=0,sizeCalculation:g=this.sizeCalculation,noUpdateTTL:p=this.noUpdateTTL,noDeleteOnFetchRejection:d=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:u=this.allowStaleOnFetchRejection,ignoreFetchAbort:_=this.ignoreFetchAbort,allowStaleOnFetchAbort:A=this.allowStaleOnFetchAbort,context:m,forceRefresh:E=!1,status:b,signal:S}=t;if(!this.#w)return b&&(b.fetch="get"),this.get(e,{allowStale:r,updateAgeOnGet:i,noDeleteOnStaleGet:n,status:b});let x={allowStale:r,updateAgeOnGet:i,noDeleteOnStaleGet:n,ttl:o,noDisposeOnSet:a,size:l,sizeCalculation:g,noUpdateTTL:p,noDeleteOnFetchRejection:d,allowStaleOnFetchRejection:u,allowStaleOnFetchAbort:A,ignoreFetchAbort:_,status:b,signal:S},L=this.#r.get(e);if(L===void 0){b&&(b.fetch="miss");let O=this.#L(e,L,x,m);return O.__returned=O}else{let O=this.#e[L];if(this.#t(O)){let j=r&&O.__staleWhileFetching!==void 0;return b&&(b.fetch="inflight",j&&(b.returnedStale=!0)),j?O.__staleWhileFetching:O.__returned=O}let X=this.#p(L);if(!E&&!X)return b&&(b.fetch="hit"),this.#v(L),i&&this.#$(L),b&&this.#S(b,L),O;let D=this.#L(e,L,x,m),v=D.__staleWhileFetching!==void 0&&r;return b&&(b.fetch=X?"stale":"refresh",v&&X&&(b.returnedStale=!0)),v?D.__staleWhileFetching:D.__returned=D}}get(e,t={}){let{allowStale:r=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:n=this.noDeleteOnStaleGet,status:o}=t,a=this.#r.get(e);if(a!==void 0){let l=this.#e[a],g=this.#t(l);return o&&this.#S(o,a),this.#p(a)?(o&&(o.get="stale"),g?(o&&r&&l.__staleWhileFetching!==void 0&&(o.returnedStale=!0),r?l.__staleWhileFetching:void 0):(n||this.delete(e),o&&r&&(o.returnedStale=!0),r?l:void 0)):(o&&(o.get="hit"),g?l.__staleWhileFetching:(this.#v(a),i&&this.#$(a),l))}else o&&(o.get="miss")}#P(e,t){this.#h[t]=e,this.#l[e]=t}#v(e){e!==this.#n&&(e===this.#a?this.#a=this.#l[e]:this.#P(this.#h[e],this.#l[e]),this.#P(this.#n,e),this.#n=e)}delete(e){let t=!1;if(this.#i!==0){let r=this.#r.get(e);if(r!==void 0)if(t=!0,this.#i===1)this.clear();else{this.#x(r);let i=this.#e[r];if(this.#t(i)?i.__abortController.abort(new Error("deleted")):(this.#_||this.#u)&&(this.#_&&this.#g?.(i,e,"delete"),this.#u&&this.#o?.push([i,e,"delete"])),this.#r.delete(e),this.#s[r]=void 0,this.#e[r]=void 0,r===this.#n)this.#n=this.#h[r];else if(r===this.#a)this.#a=this.#l[r];else{let n=this.#h[r];this.#l[n]=this.#l[r];let o=this.#l[r];this.#h[o]=this.#h[r]}this.#i--,this.#A.push(r)}}if(this.#u&&this.#o?.length){let r=this.#o,i;for(;i=r?.shift();)this.#m?.(...i)}return t}clear(){for(let e of this.#C({allowStale:!0})){let t=this.#e[e];if(this.#t(t))t.__abortController.abort(new Error("deleted"));else{let r=this.#s[e];this.#_&&this.#g?.(t,r,"delete"),this.#u&&this.#o?.push([t,r,"delete"])}}if(this.#r.clear(),this.#e.fill(void 0),this.#s.fill(void 0),this.#f&&this.#b&&(this.#f.fill(0),this.#b.fill(0)),this.#R&&this.#R.fill(0),this.#a=0,this.#n=0,this.#A.length=0,this.#y=0,this.#i=0,this.#u&&this.#o){let e=this.#o,t;for(;t=e?.shift();)this.#m?.(...t)}}};Ve.LRUCache=De});var zs=F((bn,Bs)=>{"use strict";var H=(...s)=>s.every(e=>e)?s.join(""):"",B=s=>s?encodeURIComponent(s):"",js=s=>s.toLowerCase().replace(/^\W+|\/|\W+$/g,"").replace(/\W+/g,"-"),Ni={sshtemplate:({domain:s,user:e,project:t,committish:r})=>`git@${s}:${e}/${t}.git${H("#",r)}`,sshurltemplate:({domain:s,user:e,project:t,committish:r})=>`git+ssh://git@${s}/${e}/${t}.git${H("#",r)}`,edittemplate:({domain:s,user:e,project:t,committish:r,editpath:i,path:n})=>`https://${s}/${e}/${t}${H("/",i,"/",B(r||"HEAD"),"/",n)}`,browsetemplate:({domain:s,user:e,project:t,committish:r,treepath:i})=>`https://${s}/${e}/${t}${H("/",i,"/",B(r))}`,browsetreetemplate:({domain:s,user:e,project:t,committish:r,treepath:i,path:n,fragment:o,hashformat:a})=>`https://${s}/${e}/${t}/${i}/${B(r||"HEAD")}/${n}${H("#",a(o||""))}`,browseblobtemplate:({domain:s,user:e,project:t,committish:r,blobpath:i,path:n,fragment:o,hashformat:a})=>`https://${s}/${e}/${t}/${i}/${B(r||"HEAD")}/${n}${H("#",a(o||""))}`,docstemplate:({domain:s,user:e,project:t,treepath:r,committish:i})=>`https://${s}/${e}/${t}${H("/",r,"/",B(i))}#readme`,httpstemplate:({auth:s,domain:e,user:t,project:r,committish:i})=>`git+https://${H(s,"@")}${e}/${t}/${r}.git${H("#",i)}`,filetemplate:({domain:s,user:e,project:t,committish:r,path:i})=>`https://${s}/${e}/${t}/raw/${B(r||"HEAD")}/${i}`,shortcuttemplate:({type:s,user:e,project:t,committish:r})=>`${s}:${e}/${t}${H("#",r)}`,pathtemplate:({user:s,project:e,committish:t})=>`${s}/${e}${H("#",t)}`,bugstemplate:({domain:s,user:e,project:t})=>`https://${s}/${e}/${t}/issues`,hashformat:js},pe={};pe.github={protocols:["git:","http:","git+ssh:","git+https:","ssh:","https:"],domain:"github.com",treepath:"tree",blobpath:"blob",editpath:"edit",filetemplate:({auth:s,user:e,project:t,committish:r,path:i})=>`https://${H(s,"@")}raw.githubusercontent.com/${e}/${t}/${B(r||"HEAD")}/${i}`,gittemplate:({auth:s,domain:e,user:t,project:r,committish:i})=>`git://${H(s,"@")}${e}/${t}/${r}.git${H("#",i)}`,tarballtemplate:({domain:s,user:e,project:t,committish:r})=>`https://codeload.${s}/${e}/${t}/tar.gz/${B(r||"HEAD")}`,extract:s=>{let[,e,t,r,i]=s.pathname.split("/",5);if(!(r&&r!=="tree")&&(r||(i=s.hash.slice(1)),t&&t.endsWith(".git")&&(t=t.slice(0,-4)),!(!e||!t)))return{user:e,project:t,committish:i}}};pe.bitbucket={protocols:["git+ssh:","git+https:","ssh:","https:"],domain:"bitbucket.org",treepath:"src",blobpath:"src",editpath:"?mode=edit",edittemplate:({domain:s,user:e,project:t,committish:r,treepath:i,path:n,editpath:o})=>`https://${s}/${e}/${t}${H("/",i,"/",B(r||"HEAD"),"/",n,o)}`,tarballtemplate:({domain:s,user:e,project:t,committish:r})=>`https://${s}/${e}/${t}/get/${B(r||"HEAD")}.tar.gz`,extract:s=>{let[,e,t,r]=s.pathname.split("/",4);if(!["get"].includes(r)&&(t&&t.endsWith(".git")&&(t=t.slice(0,-4)),!(!e||!t)))return{user:e,project:t,committish:s.hash.slice(1)}}};pe.gitlab={protocols:["git+ssh:","git+https:","ssh:","https:"],domain:"gitlab.com",treepath:"tree",blobpath:"tree",editpath:"-/edit",httpstemplate:({auth:s,domain:e,user:t,project:r,committish:i})=>`git+https://${H(s,"@")}${e}/${t}/${r}.git${H("#",i)}`,tarballtemplate:({domain:s,user:e,project:t,committish:r})=>`https://${s}/${e}/${t}/repository/archive.tar.gz?ref=${B(r||"HEAD")}`,extract:s=>{let e=s.pathname.slice(1);if(e.includes("/-/")||e.includes("/archive.tar.gz"))return;let t=e.split("/"),r=t.pop();r.endsWith(".git")&&(r=r.slice(0,-4));let i=t.join("/");if(!(!i||!r))return{user:i,project:r,committish:s.hash.slice(1)}}};pe.gist={protocols:["git:","git+ssh:","git+https:","ssh:","https:"],domain:"gist.github.com",editpath:"edit",sshtemplate:({domain:s,project:e,committish:t})=>`git@${s}:${e}.git${H("#",t)}`,sshurltemplate:({domain:s,project:e,committish:t})=>`git+ssh://git@${s}/${e}.git${H("#",t)}`,edittemplate:({domain:s,user:e,project:t,committish:r,editpath:i})=>`https://${s}/${e}/${t}${H("/",B(r))}/${i}`,browsetemplate:({domain:s,project:e,committish:t})=>`https://${s}/${e}${H("/",B(t))}`,browsetreetemplate:({domain:s,project:e,committish:t,path:r,hashformat:i})=>`https://${s}/${e}${H("/",B(t))}${H("#",i(r))}`,browseblobtemplate:({domain:s,project:e,committish:t,path:r,hashformat:i})=>`https://${s}/${e}${H("/",B(t))}${H("#",i(r))}`,docstemplate:({domain:s,project:e,committish:t})=>`https://${s}/${e}${H("/",B(t))}`,httpstemplate:({domain:s,project:e,committish:t})=>`git+https://${s}/${e}.git${H("#",t)}`,filetemplate:({user:s,project:e,committish:t,path:r})=>`https://gist.githubusercontent.com/${s}/${e}/raw${H("/",B(t))}/${r}`,shortcuttemplate:({type:s,project:e,committish:t})=>`${s}:${e}${H("#",t)}`,pathtemplate:({project:s,committish:e})=>`${s}${H("#",e)}`,bugstemplate:({domain:s,project:e})=>`https://${s}/${e}`,gittemplate:({domain:s,project:e,committish:t})=>`git://${s}/${e}.git${H("#",t)}`,tarballtemplate:({project:s,committish:e})=>`https://codeload.github.com/gist/${s}/tar.gz/${B(e||"HEAD")}`,extract:s=>{let[,e,t,r]=s.pathname.split("/",4);if(r!=="raw"){if(!t){if(!e)return;t=e,e=null}return t.endsWith(".git")&&(t=t.slice(0,-4)),{user:e,project:t,committish:s.hash.slice(1)}}},hashformat:function(s){return s&&"file-"+js(s)}};pe.sourcehut={protocols:["git+ssh:","https:"],domain:"git.sr.ht",treepath:"tree",blobpath:"tree",filetemplate:({domain:s,user:e,project:t,committish:r,path:i})=>`https://${s}/${e}/${t}/blob/${B(r)||"HEAD"}/${i}`,httpstemplate:({domain:s,user:e,project:t,committish:r})=>`https://${s}/${e}/${t}.git${H("#",r)}`,tarballtemplate:({domain:s,user:e,project:t,committish:r})=>`https://${s}/${e}/${t}/archive/${B(r)||"HEAD"}.tar.gz`,bugstemplate:({user:s,project:e})=>null,extract:s=>{let[,e,t,r]=s.pathname.split("/",4);if(!["archive"].includes(r)&&(t&&t.endsWith(".git")&&(t=t.slice(0,-4)),!(!e||!t)))return{user:e,project:t,committish:s.hash.slice(1)}}};for(let[s,e]of Object.entries(pe))pe[s]=Object.assign({},Ni,e);Bs.exports=pe});var St=F((_n,qs)=>{var Di=q("url"),Ct=(s,e,t)=>{let r=s.indexOf(t);return s.lastIndexOf(e,r>-1?r:1/0)},Gs=s=>{try{return new Di.URL(s)}catch{}},Ii=(s,e)=>{let t=s.indexOf(":"),r=s.slice(0,t+1);if(Object.prototype.hasOwnProperty.call(e,r))return s;let i=s.indexOf("@");return i>-1?i>t?`git+ssh://${s}`:s:s.indexOf("//")===t+1?s:`${s.slice(0,t+1)}//${s.slice(t+1)}`},Pi=s=>{let e=Ct(s,"@","#"),t=Ct(s,":","#");return t>e&&(s=s.slice(0,t)+"/"+s.slice(t+1)),Ct(s,":","#")===-1&&s.indexOf("//")===-1&&(s=`git+ssh://${s}`),s};qs.exports=(s,e)=>{let t=e?Ii(s,e):s;return Gs(t)||Gs(Pi(t))}});var Qs=F((En,Ks)=>{"use strict";var Ui=St(),Fi=s=>{let e=s.indexOf("#"),t=s.indexOf("/"),r=s.indexOf("/",t+1),i=s.indexOf(":"),n=/\s/.exec(s),o=s.indexOf("@"),a=!n||e>-1&&n.index>e,l=o===-1||e>-1&&o>e,g=i===-1||e>-1&&i>e,p=r===-1||e>-1&&r>e,d=t>0,u=e>-1?s[e-1]!=="/":!s.endsWith("/"),_=!s.startsWith(".");return a&&d&&u&&_&&l&&g&&p};Ks.exports=(s,e,{gitHosts:t,protocols:r})=>{if(!s)return;let i=Fi(s)?`github:${s}`:s,n=Ui(i,r);if(!n)return;let o=t.byShortcut[n.protocol],a=t.byDomain[n.hostname.startsWith("www.")?n.hostname.slice(4):n.hostname],l=o||a;if(!l)return;let g=t[o||a],p=null;r[n.protocol]?.auth&&(n.username||n.password)&&(p=`${n.username}${n.password?":"+n.password:""}`);let d=null,u=null,_=null,A=null;try{if(o){let m=n.pathname.startsWith("/")?n.pathname.slice(1):n.pathname,E=m.indexOf("@");E>-1&&(m=m.slice(E+1));let b=m.lastIndexOf("/");b>-1?(u=decodeURIComponent(m.slice(0,b)),u||(u=null),_=decodeURIComponent(m.slice(b+1))):_=decodeURIComponent(m),_.endsWith(".git")&&(_=_.slice(0,-4)),n.hash&&(d=decodeURIComponent(n.hash.slice(1))),A="shortcut"}else{if(!g.protocols.includes(n.protocol))return;let m=g.extract(n);if(!m)return;u=m.user&&decodeURIComponent(m.user),_=decodeURIComponent(m.project),d=decodeURIComponent(m.committish),A=r[n.protocol]?.name||n.protocol.slice(0,-1)}}catch(m){if(m instanceof URIError)return;throw m}return[l,u,p,_,d,A,e]}});var Vs=F((Cn,Xs)=>{"use strict";var{LRUCache:Mi}=Ws(),Wi=zs(),ji=Qs(),Bi=St(),wt=new Mi({max:1e3}),de,Ie,G,Q,ue=class{constructor(e,t,r,i,n,o,a={}){be(this,G);Object.assign(this,oe(ue,de)[e],{type:e,user:t,auth:r,project:i,committish:n,default:o,opts:a})}static addHost(e,t){oe(ue,de)[e]=t,oe(ue,de).byDomain[t.domain]=e,oe(ue,de).byShortcut[`${e}:`]=e,oe(ue,Ie)[`${e}:`]={name:e}}static fromUrl(e,t){if(typeof e!="string")return;let r=e+JSON.stringify(t||{});if(!wt.has(r)){let i=ji(e,t,{gitHosts:oe(ue,de),protocols:oe(ue,Ie)});wt.set(r,i?new ue(...i):void 0)}return wt.get(r)}static parseUrl(e){return Bi(e)}hash(){return this.committish?`#${this.committish}`:""}ssh(e){return K(this,G,Q).call(this,this.sshtemplate,e)}sshurl(e){return K(this,G,Q).call(this,this.sshurltemplate,e)}browse(e,...t){return typeof e!="string"?K(this,G,Q).call(this,this.browsetemplate,e):typeof t[0]!="string"?K(this,G,Q).call(this,this.browsetreetemplate,{...t[0],path:e}):K(this,G,Q).call(this,this.browsetreetemplate,{...t[1],fragment:t[0],path:e})}browseFile(e,...t){return typeof t[0]!="string"?K(this,G,Q).call(this,this.browseblobtemplate,{...t[0],path:e}):K(this,G,Q).call(this,this.browseblobtemplate,{...t[1],fragment:t[0],path:e})}docs(e){return K(this,G,Q).call(this,this.docstemplate,e)}bugs(e){return K(this,G,Q).call(this,this.bugstemplate,e)}https(e){return K(this,G,Q).call(this,this.httpstemplate,e)}git(e){return K(this,G,Q).call(this,this.gittemplate,e)}shortcut(e){return K(this,G,Q).call(this,this.shortcuttemplate,e)}path(e){return K(this,G,Q).call(this,this.pathtemplate,e)}tarball(e){return K(this,G,Q).call(this,this.tarballtemplate,{...e,noCommittish:!1})}file(e,t){return K(this,G,Q).call(this,this.filetemplate,{...t,path:e})}edit(e,t){return K(this,G,Q).call(this,this.edittemplate,{...t,path:e})}getDefaultRepresentation(){return this.default}toString(e){return this.default&&typeof this[this.default]=="function"?this[this.default](e):this.sshurl(e)}},xe=ue;de=new WeakMap,Ie=new WeakMap,G=new WeakSet,Q=function(e,t){if(typeof e!="function")return null;let r={...this,...this.opts,...t};r.path||(r.path=""),r.path.startsWith("/")&&(r.path=r.path.slice(1)),r.noCommittish&&(r.committish=null);let i=e(r);return r.noGitPlus&&i.startsWith("git+")?i.slice(4):i},be(xe,de,{byShortcut:{},byDomain:{}}),be(xe,Ie,{"git+ssh:":{name:"sshurl"},"ssh:":{name:"sshurl"},"git+https:":{name:"https",auth:!0},"git:":{auth:!0},"http:":{auth:!0},"https:":{auth:!0},"git+http:":{auth:!0}});for(let[s,e]of Object.entries(Wi))xe.addHost(s,e);Xs.exports=xe});var Xi={};yr(Xi,{default:()=>Qi});var lr=q("@yarnpkg/core");var tt=q("@yarnpkg/cli"),M=q("@yarnpkg/core"),J=q("clipanion"),xt=Re(Is()),ar=Re(q("path")),et=Re(q("semver")),Ae=Re(q("typanion"));var Ye=q("@yarnpkg/core"),sr=q("@yarnpkg/plugin-essentials");var Ys=Re(Vs()),ve=Re(q("semver")),Js=Boolean;function er({raw:s}){if(s.homepage)return s.homepage;let e=s.repository,t=typeof e=="string"?e:typeof e=="object"&&typeof e.url=="string"?e.url:null,r=t?(0,Ys.fromUrl)(t):void 0,i=r?.committish?`#${r.committish}`:"";return r?`https://${r.domain}/${r.user}/${r.project}${i}`:t}var zi=s=>typeof s=="number",Gi=(s,e)=>s.concat(Array(e-s.length).fill(0)),Zs=s=>Gi(s.filter(zi),3).join(".");function tr(s,e){let t=ve.default.prerelease(e),r=ve.default.prerelease(s);return ve.default.eq(s,e)&&t&&r?ve.default.lt(Zs(r),Zs(t)):ve.default.lt(s,e)}var Ze=class{constructor(e,t,r,i){this.configuration=e;this.project=t;this.workspace=r;this.cache=i}async fetch({descriptor:e,includeRange:t,includeURL:r,pkg:i}){try{let[n,o,a]=await Promise.all([this.suggest(i,"latest"),t?this.suggest(i,e.range):Promise.resolve(),r?this.fetchURL(i):Promise.resolve()]);return{latest:n?.range,range:o?.range,url:a??void 0}}catch(n){return{error:n}}}suggest(e,t){return sr.suggestUtils.fetchDescriptorFrom(e,t,{cache:this.cache,preserveModifier:!1,project:this.project,workspace:this.workspace})}async fetchURL(e){let t=this.configuration.makeFetcher(),r=await t.fetch(e,{cache:this.cache,cacheOptions:{skipIntegrityCheck:!0},checksums:this.project.storedChecksums,fetcher:t,project:this.project,report:new Ye.ThrowReport}),i;try{i=await Ye.Manifest.find(r.prefixPath,{baseFs:r.packageFs})}finally{r.releaseFs?.()}return er(i)}};var Je=q("@yarnpkg/core"),qi=/^([0-9]+\.)([0-9]+\.)(.+)$/,rr=["name","current","range","latest","workspace","type","url"],Pe=class{constructor(e,t,r,i,n){this.format=e;this.writer=t;this.configuration=r;this.dependencies=i;this.extraColumns=n}sizes=null;headers={current:"Current",latest:"Latest",name:"Package",range:"Range",type:"Package Type",url:"URL",workspace:"Workspace"};print(){this.sizes=this.getColumnSizes(),this.printHeader(),this.dependencies.forEach(e=>{let t=this.getDiffColor(e.severity.latest),r=this.getDiffColor(e.severity.range);this.printRow({current:e.current.padEnd(this.sizes.current),latest:this.formatVersion(e,"latest",t),name:this.applyColor(e.name.padEnd(this.sizes.name),t),range:this.formatVersion(e,"range",r),type:e.type.padEnd(this.sizes.type),url:e.url?.padEnd(this.sizes.url),workspace:e.workspace?.padEnd(this.sizes.workspace)})})}applyColor(e,t){return t?Je.formatUtils.pretty(this.configuration,e,t):e}formatVersion(e,t,r){let i=e[t]?.padEnd(this.sizes[t]);if(!i)return;let n=i.match(qi);if(!n||!r)return i;let o=["red","yellow","green"].indexOf(r)+1,a=n.slice(1,o).join(""),l=n.slice(o).join("");return a+Je.formatUtils.pretty(this.configuration,this.applyColor(l,r),"bold")}getDiffColor(e){return e?{major:"red",minor:"yellow",patch:"green"}[e]:null}getColumnSizes(){let e=rr.reduce((t,r)=>({...t,[r]:this.headers[r].length}),{});for(let t of this.dependencies)for(let[r,i]of Object.entries(t)){let n=e[r],o=(i||"").length;e[r]=n>o?n:o}return e}formatColumnHeader(e){return Je.formatUtils.pretty(this.configuration,this.headers[e].padEnd(this.sizes[e]),"bold")}printHeader(){this.printRow({current:this.formatColumnHeader("current"),latest:this.formatColumnHeader("latest"),name:this.formatColumnHeader("name"),range:this.formatColumnHeader("range"),type:this.formatColumnHeader("type"),url:this.formatColumnHeader("url"),workspace:this.formatColumnHeader("workspace")}),this.format==="markdown"&&this.printRow(Object.keys(this.sizes).reduce((e,t)=>({...e,[t]:"".padEnd(this.sizes[t],"-")}),{}))}printRow(e){let t=this.format==="markdown",r=rr.filter(i=>this.extraColumns[i]??!0).map(i=>e[i]).join(t?" | ":"   ");this.writer(t?`| ${r} |`:r.trim())}};var $t=["dependencies","devDependencies"],ir=["major","minor","patch"],nr=["text","json","markdown"];var or="\u2728 All your dependencies are up to date!",Te=class extends tt.BaseCommand{patterns=J.Option.Rest();workspace=J.Option.Array("-w,--workspace",{description:"Only search for dependencies in the specified workspaces. If no workspaces are specified, only searches for outdated dependencies in the current workspace.",validator:Ae.default.isArray(Ae.default.isString())});check=J.Option.Boolean("-c,--check",!1,{description:"Exit with exit code 1 when outdated dependencies are found"});format=J.Option.String("--format","text",{description:"The format of the output (text|json|markdown)",validator:Ae.default.isEnum(nr)});json=J.Option.Boolean("--json",!1,{description:"Format the output as JSON"});severity=J.Option.Array("-s,--severity",{description:"Filter results based on the severity of the update",validator:Ae.default.isArray(Ae.default.isEnum(ir))});type=J.Option.String("-t,--type",{description:"Filter results based on the dependency type",validator:Ae.default.isEnum($t)});_includeURL=J.Option.Boolean("--url",{description:"Include the homepage URL of each package in the output"});includeRange=J.Option.Boolean("--range",!1,{description:"Include the latest version of the package which satisfies the current range specified in the manifest."});async execute(){let{cache:e,configuration:t,project:r,workspace:i}=await this.loadProject(),n=new Ze(t,r,i,e),o=this.getWorkspaces(r),a=this.getDependencies(t,o);if(this.format!=="text"||this.json){let g=await this.getOutdatedDependencies(t,r,n,a);return this.format==="json"||this.json?this.writeJson(g):this.writeMarkdown(t,r,g),this.check&&g.length?1:0}return(await M.StreamReport.start({configuration:t,stdout:this.context.stdout},async g=>{await this.checkOutdatedDependencies(t,r,a,n,g)})).exitCode()}includeURL(e){return this._includeURL??e.get("outdatedIncludeUrl")}writeJson(e){let t=e.map(r=>({...r,severity:r.severity.latest}));this.context.stdout.write(JSON.stringify(t)+`
`)}writeMarkdown(e,t,r){if(!r.length){this.context.stdout.write(or+`
`);return}new Pe("markdown",n=>this.context.stdout.write(n+`
`),e,r,{range:this.includeRange,url:this.includeURL(e),workspace:this.includeWorkspace(t)}).print()}async checkOutdatedDependencies(e,t,r,i,n){let o=null;await n.startTimerPromise("Checking for outdated dependencies",async()=>{let a=r.length,l=M.StreamReport.progressViaCounter(a);n.reportProgress(l),o=await this.getOutdatedDependencies(e,t,i,r,l,n)}),n.reportSeparator(),o.length?(new Pe("text",l=>n.reportInfo(M.MessageName.UNNAMED,l),e,o,{range:this.includeRange,url:this.includeURL(e),workspace:this.includeWorkspace(t)}).print(),n.reportSeparator(),this.printOutdatedCount(n,o.length)):n.reportInfo(M.MessageName.UNNAMED,M.formatUtils.pretty(e,or,"green"))}async loadProject(){let e=await M.Configuration.find(this.context.cwd,this.context.plugins),[t,{project:r,workspace:i}]=await Promise.all([M.Cache.find(e),M.Project.find(e,this.context.cwd)]);if(await r.restoreInstallState(),!i)throw new tt.WorkspaceRequiredError(r.cwd,this.context.cwd);return{cache:t,configuration:e,project:r,workspace:i}}getWorkspaces(e){let t=this.workspace;return t?t[0]==="."?e.workspaces.filter(r=>r.cwd===this.context.cwd):e.workspaces.filter(r=>{let i=[...t,...t.map(n=>ar.default.join(this.context.cwd,n))];return xt.default.some([this.getWorkspaceName(r),r.cwd],i)}):e.workspaces}includeWorkspace(e){return e.workspaces.length>1}get dependencyTypes(){return this.type?[this.type]:$t}getDependencies(e,t){let r=[];for(let n of t){let{anchoredLocator:o,project:a}=n,l=a.storedPackages.get(o.locatorHash);l||this.throw(e,o);for(let g of this.dependencyTypes)for(let p of n.manifest[g].values()){let{range:d}=p;if(d.includes(":")&&!/(npm|patch):/.test(d))continue;let u=l.dependencies.get(p.identHash);u||this.throw(e,p);let _=a.storedResolutions.get(u.descriptorHash);_||this.throw(e,u);let A=a.storedPackages.get(_);A||this.throw(e,u),!n.project.tryWorkspaceByLocator(A)&&(A.reference.includes("github.com")||r.push({dependencyType:g,descriptor:p,name:M.structUtils.stringifyIdent(p),pkg:A,workspace:n}))}}if(!this.patterns.length)return r;let i=r.filter(({name:n})=>xt.default.isMatch(n,this.patterns));if(!i.length)throw new J.UsageError(`Pattern ${M.formatUtils.prettyList(e,this.patterns,M.formatUtils.Type.CODE)} doesn't match any packages referenced by any workspace`);return i}throw(e,t){let r=M.structUtils.prettyIdent(e,t);throw new Error(`Package for ${r} not found in the project`)}getSeverity(e,t){let r=et.default.coerce(e),i=et.default.coerce(t);return et.default.eq(r,i)?null:r.major===0||i.major>r.major?"major":i.minor>r.minor?"minor":"patch"}async getOutdatedDependencies(e,t,r,i,n,o){let a=i.map(async({dependencyType:l,descriptor:g,name:p,pkg:d,workspace:u})=>{let{error:_,latest:A,range:m,url:E}=await r.fetch({descriptor:g,includeRange:this.includeRange,includeURL:this.includeURL(e),pkg:d});if(n?.tick(),_ instanceof Error){o?.reportError(M.MessageName.UNNAMED,`Failed to fetch ${p}: ${_.message}`);return}if(A&&tr(d.version,A))return{current:d.version,latest:A,name:p,range:m,severity:{latest:this.getSeverity(d.version,A),range:m?this.getSeverity(d.version,m):null},type:l,url:E,workspace:this.includeWorkspace(t)?this.getWorkspaceName(u):void 0}});return(await Promise.all(a)).filter(Js).filter(l=>this.severity?.includes(l.severity.latest)??!0).sort((l,g)=>l.name.localeCompare(g.name))}getWorkspaceName(e){return e.manifest.name?M.structUtils.stringifyIdent(e.manifest.name):e.computeCandidateName()}printOutdatedCount(e,t){let r=[M.MessageName.UNNAMED,t===1?"1 dependency is out of date":`${t} dependencies are out of date`];this.check?e.reportError(...r):e.reportWarning(...r)}};rt(Te,"paths",[["outdated"]]),rt(Te,"usage",J.Command.Usage({description:"view outdated dependencies",details:`
      This command finds outdated dependencies in a project and prints the result in a table or JSON format.

      This command accepts glob patterns as arguments to filter the output. Make sure to escape the patterns, to prevent your own shell from trying to expand them.
    `,examples:[["View outdated dependencies","yarn outdated"],["View outdated dependencies with the `@babel` scope","yarn outdated '@babel/*'"],["Filter results to only include devDependencies","yarn outdated --type devDependencies"],["Filter results to only include major version updates","yarn outdated --severity major"]]}));var Ki={commands:[Te],configuration:{outdatedIncludeUrl:{default:!1,description:"If true, the outdated command will include the package homepage URL by default",type:lr.SettingsType.BOOLEAN}}},Qi=Ki;return Ar(Xi);})();
/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */
/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */
/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */
return plugin;
}
};
