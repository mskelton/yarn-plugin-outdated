/* eslint-disable */
module.exports = {
name: "@yarnpkg/plugin-outdated",
factory: function (require) {
var plugin;plugin=(()=>{"use strict";var e={228:(e,t,r)=>{r.r(t),r.d(t,{default:()=>u});const n=require("@yarnpkg/core"),s=require("@yarnpkg/plugin-essentials"),o=require("clipanion"),a=require("semver"),i=["name","current","latest","type"];class c{constructor(e,t){this.configuration=e,this.dependencies=t,this.sizes=null,this.headers={current:"Current",latest:"Latest",name:"Package",type:"Package Type"}}print(){this.sizes=this.getColumnSizes(),this.printHeader(),this.dependencies.forEach(e=>{const t=a.parse(e.current),r=a.parse(e.latest),s=r.major>t.major?"red":r.minor>t.minor?"yellow":"green";this.printRow({current:e.current.padEnd(this.sizes.current),latest:e.latest.padEnd(this.sizes.latest),name:n.formatUtils.pretty(this.configuration,e.name.padEnd(this.sizes.name),s),type:e.type.padEnd(this.sizes.type)})})}getColumnSizes(){const e={current:this.headers.current.length,latest:this.headers.latest.length,name:this.headers.name.length,type:this.headers.type.length};for(const t of this.dependencies)for(const[r,n]of Object.entries(t)){const t=e[r],s=n.length;e[r]=t>s?t:s}return e}formatColumnHeader(e){return n.formatUtils.pretty(this.configuration,this.headers[e].padEnd(this.sizes[e]),"bold")}printHeader(){this.printRow({current:this.formatColumnHeader("current"),latest:this.formatColumnHeader("latest"),name:this.formatColumnHeader("name"),type:this.formatColumnHeader("type")})}printRow(e){console.log(i.map(t=>e[t]).join("   "))}}const l=e=>a.valid(a.coerce(e));var p=function(e,t,r,n){var s,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var i=e.length-1;i>=0;i--)(s=e[i])&&(a=(o<3?s(a):o>3?s(t,r,a):s(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a};class d extends o.Command{constructor(){super(...arguments),this.all=!1,this.wanted=!1,this.json=!1}async execute(){const e=await n.Configuration.find(this.context.cwd,this.context.plugins),{project:t,workspace:r}=await n.Project.find(e,this.context.cwd),s=(await this.getOutdatedDependencies(t,r,await n.Cache.find(e))).filter(e=>a.neq(e.current,e.latest));this.json?console.log(JSON.stringify(s)):new c(e,s).print()}async getOutdatedDependencies(e,t,r){const s=[],o=["dependencies","devDependencies"];for(const t of e.workspaces)for(const e of o)for(const r of t.manifest[e].values())s.push({current:l(r.range),descriptor:r,name:n.structUtils.stringifyIdent(r),type:e});const a=s.sort((e,t)=>e.name.localeCompare(t.name)).map(async n=>{const s=await this.fetchLatestDescriptor(e,t,r,n.descriptor);return{...n,latest:l(s)}});return Promise.all(a)}async fetchLatestDescriptor(e,t,r,n,o="latest"){const a=await s.suggestUtils.fetchDescriptorFrom(n,o,{cache:r,preserveModifier:n.range,project:e,workspace:t});return null===a?n.range:a.range}}p([o.Command.Boolean("-a,--all")],d.prototype,"all",void 0),p([o.Command.Boolean("-w,--wanted")],d.prototype,"wanted",void 0),p([o.Command.Boolean("--json")],d.prototype,"json",void 0),p([o.Command.Path("outdated")],d.prototype,"execute",null);const u={commands:[d]}}},t={};function r(n){if(t[n])return t[n].exports;var s=t[n]={exports:{}};return e[n](s,s.exports,r),s.exports}return r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r(228)})();
return plugin;
}
};